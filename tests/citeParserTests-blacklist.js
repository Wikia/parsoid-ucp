/* A map of tests which we know Parsoid currently fails.
 *
 * New patches which fix previously-broken tests should also patch this
 * file to document which tests are now expected to succeed.
 *
 * This helps clean up 'npm test' output, documents known bugs, and helps
 * Jenkins make sense of the parserTest output.
 *
 * NOTE that the selser blacklist depends on tests/selser.changes.json
 * If the selser change list is modified, this blacklist should be refreshed.
 *
 * This blacklist can be automagically updated by running
 *    parserTests.js --rewrite-blacklist
 * You might want to do this after you fix some bug that makes more tests
 * pass.  It is still your responsibility to carefully review the blacklist
 * diff to ensure there are no unexpected new failures (lines added).
 */

/*
 * This should map test titles to an array of test types (wt2html, wt2wt,
 * html2html, html2wt, selser) which are known to fail.
 * For easier maintenance, we group each test type together, and use a
 * helper function to create the array if needed then append the test type.
 */

'use strict';

var testBlackList = {};
var add = function(mode, title, raw) {  // eslint-disable-line
	if (typeof (testBlackList[title]) !== 'object') {
		testBlackList[title] = {};
	}
	testBlackList[title][mode] = raw;
};

// ### DO NOT REMOVE THIS LINE ### (start of automatically-generated section)

// Blacklist for wt2html
add("wt2html", "Simple <ref>, no <references/>", "<p data-parsoid='{\"dsr\":[0,58,0,0]}'>Wikipedia rocks!<sup about=\"#mwt3\" class=\"mw-ref\" id=\"cite_ref-1\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[16,58,5,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{},\"body\":{\"id\":\"mw-reference-text-cite_note-1\"}}'><a href=\"./Parser_test#cite_note-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></p>\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt4\" data-parsoid='{\"dsr\":[58,58,0,0]}' data-mw='{\"name\":\"references\",\"attrs\":{},\"autoGenerated\":true}'><li about=\"#cite_note-1\" id=\"cite_note-1\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-1\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">Proceeds of Rockology, vol. XXI</span></li></ol>");
add("wt2html", "Simple <ref>, with <references/>", "<p data-parsoid='{\"dsr\":[0,58,0,0]}'>Wikipedia rocks!<sup about=\"#mwt3\" class=\"mw-ref\" id=\"cite_ref-1\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[16,58,5,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{},\"body\":{\"id\":\"mw-reference-text-cite_note-1\"}}'><a href=\"./Parser_test#cite_note-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></p>\n\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt6\" data-parsoid='{\"dsr\":[60,74,14,0]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'><li about=\"#cite_note-1\" id=\"cite_note-1\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-1\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">Proceeds of Rockology, vol. XXI</span></li></ol>");
add("wt2html", "<ref> with a simple template", "<p data-parsoid='{\"dsr\":[0,40,0,0]}'>Templating<sup about=\"#mwt7\" class=\"mw-ref\" id=\"cite_ref-1\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[10,40,5,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{},\"body\":{\"id\":\"mw-reference-text-cite_note-1\"}}'><a href=\"./Parser_test#cite_note-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></p>\n\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt5\" data-parsoid='{\"dsr\":[42,55,13,0]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'><li about=\"#cite_note-1\" id=\"cite_note-1\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-1\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-1\" class=\"mw-reference-text\" data-parsoid=\"{}\"><span about=\"#mwt2\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[15,34,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"simple template\",\"href\":\"./Template:Simple_template\"},\"params\":{},\"i\":0}}]}'>A </span><i about=\"#mwt2\" data-parsoid=\"{}\">simple</i><span about=\"#mwt2\" data-parsoid=\"{}\"> template.</span></span></li></ol>");
add("wt2html", "<ref> with a <nowiki>", "<p data-parsoid='{\"dsr\":[0,57,0,0]}'>Templating<sup about=\"#mwt5\" class=\"mw-ref\" id=\"cite_ref-1\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[10,57,5,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{},\"body\":{\"id\":\"mw-reference-text-cite_note-1\"}}'><a href=\"./Parser_test#cite_note-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></p>\n\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt8\" data-parsoid='{\"dsr\":[59,73,14,0]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'><li about=\"#cite_note-1\" id=\"cite_note-1\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-1\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">{{simple template}}</span></li></ol>");
add("wt2html", "<ref> in a <nowiki>", "<p data-parsoid='{\"dsr\":[0,57,0,0]}'>Templating<span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[10,57,8,9]}'>&lt;ref>{{simple template}}&lt;/ref></span></p>\n\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt5\" data-parsoid='{\"dsr\":[59,73,14,0]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'></ol>");
add("wt2html", "<ref> in a <!--comment-->", "<p data-parsoid='{\"dsr\":[0,10,0,0]}'>Templating</p><!--<ref&#x3E;{{simple template}}</ref&#x3E;-->\n\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt3\" data-parsoid='{\"dsr\":[49,63,14,0]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'></ol>");
add("wt2html", "<!--comment--> in a <ref> (bug 5384)", "<p data-parsoid='{\"dsr\":[0,39,0,0]}'>Templating<sup about=\"#mwt3\" class=\"mw-ref\" id=\"cite_ref-1\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[10,39,5,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{},\"body\":{\"id\":\"mw-reference-text-cite_note-1\"}}'><a href=\"./Parser_test#cite_note-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></p>\n\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt6\" data-parsoid='{\"dsr\":[41,55,14,0]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'><li about=\"#cite_note-1\" id=\"cite_note-1\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-1\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">Text<!--comment--></span></li></ol>");
add("wt2html", "{{REVISIONID}} on page with <ref> (bug 6299)", "<p data-parsoid='{\"dsr\":[0,30,0,0]}'><span about=\"#mwt2\" typeof=\"mw:Transclusion\" data-parsoid='{\"pi\":[[]],\"dsr\":[0,14,null,null]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"REVISIONID\",\"function\":\"revisionid\"},\"params\":{},\"i\":0}}]}'>Parser function implementation for pf_revisionid missing in Parsoid.</span><sup about=\"#mwt4\" class=\"mw-ref\" id=\"cite_ref-1\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[14,30,5,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{},\"body\":{\"id\":\"mw-reference-text-cite_note-1\"}}'><a href=\"./Parser_test#cite_note-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></p>\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt5\" data-parsoid='{\"dsr\":[30,30,0,0]}' data-mw='{\"name\":\"references\",\"attrs\":{},\"autoGenerated\":true}'><li about=\"#cite_note-1\" id=\"cite_note-1\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-1\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">elite</span></li></ol>");
add("wt2html", "{{REVISIONID}} on page without <ref> (bug 6299 sanity check)", "<p about=\"#mwt1\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[0,14,0,0],\"pi\":[[]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"REVISIONID\",\"function\":\"revisionid\"},\"params\":{},\"i\":0}}]}'>Parser function implementation for pf_revisionid missing in Parsoid.</p>");
add("wt2html", "Ref with content followed by blank ref", "<p data-parsoid='{\"dsr\":[0,31,0,0]}'><sup about=\"#mwt3\" class=\"mw-ref\" id=\"cite_ref-blank_1-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[0,31,18,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"blank\"},\"body\":{\"id\":\"mw-reference-text-cite_note-blank-1\"}}'><a href=\"./Parser_test#cite_note-blank-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></p>\n\n<p data-parsoid='{\"dsr\":[33,53,0,0]}'><sup about=\"#mwt6\" class=\"mw-ref\" id=\"cite_ref-blank_1-1\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[33,53,20,0]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"blank\"}}'><a href=\"./Parser_test#cite_note-blank-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></p>\n\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt9\" data-parsoid='{\"dsr\":[55,69,14,0]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'><li about=\"#cite_note-blank-1\" id=\"cite_note-blank-1\" data-parsoid=\"{}\"><span rel=\"mw:referencedBy\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-blank_1-0\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">1 </span></a><a href=\"./Parser_test#cite_ref-blank_1-1\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">2 </span></a></span> <span id=\"mw-reference-text-cite_note-blank-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">content</span></li></ol>");
add("wt2html", "Blank ref followed by ref with content", "<p data-parsoid='{\"dsr\":[0,20,0,0]}'><sup about=\"#mwt3\" class=\"mw-ref\" id=\"cite_ref-blank_1-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[0,20,20,0]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"blank\"}}'><a href=\"./Parser_test#cite_note-blank-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></p>\n\n<p data-parsoid='{\"dsr\":[22,53,0,0]}'><sup about=\"#mwt6\" class=\"mw-ref\" id=\"cite_ref-blank_1-1\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[22,53,18,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"blank\"},\"body\":{\"id\":\"mw-reference-text-cite_note-blank-1\"}}'><a href=\"./Parser_test#cite_note-blank-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></p>\n\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt9\" data-parsoid='{\"dsr\":[55,69,14,0]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'><li about=\"#cite_note-blank-1\" id=\"cite_note-blank-1\" data-parsoid=\"{}\"><span rel=\"mw:referencedBy\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-blank_1-0\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">1 </span></a><a href=\"./Parser_test#cite_ref-blank_1-1\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">2 </span></a></span> <span id=\"mw-reference-text-cite_note-blank-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">content</span></li></ol>");
add("wt2html", "Regression: non-blank ref \"0\" followed by ref with content", "<p data-parsoid='{\"dsr\":[0,25,0,0]}'><sup about=\"#mwt3\" class=\"mw-ref\" id=\"cite_ref-blank_1-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[0,25,18,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"blank\"},\"body\":{\"id\":\"mw-reference-text-cite_note-blank-1\"}}'><a href=\"./Parser_test#cite_note-blank-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></p>\n\n<p data-parsoid='{\"dsr\":[27,58,0,0]}'><sup about=\"#mwt6\" class=\"mw-ref\" id=\"cite_ref-blank_1-1\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[27,58,18,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"blank\"},\"body\":{\"html\":\"content\"}}'><a href=\"./Parser_test#cite_note-blank-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></p>\n\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt9\" data-parsoid='{\"dsr\":[60,74,14,0]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'><li about=\"#cite_note-blank-1\" id=\"cite_note-blank-1\" data-parsoid=\"{}\"><span rel=\"mw:referencedBy\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-blank_1-0\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">1 </span></a><a href=\"./Parser_test#cite_ref-blank_1-1\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">2 </span></a></span> <span id=\"mw-reference-text-cite_note-blank-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">0</span></li></ol>");
add("wt2html", "Regression sanity check: non-blank ref \"1\" followed by ref with content", "<p data-parsoid='{\"dsr\":[0,25,0,0]}'><sup about=\"#mwt3\" class=\"mw-ref\" id=\"cite_ref-blank_1-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[0,25,18,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"blank\"},\"body\":{\"id\":\"mw-reference-text-cite_note-blank-1\"}}'><a href=\"./Parser_test#cite_note-blank-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></p>\n\n<p data-parsoid='{\"dsr\":[27,58,0,0]}'><sup about=\"#mwt6\" class=\"mw-ref\" id=\"cite_ref-blank_1-1\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[27,58,18,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"blank\"},\"body\":{\"html\":\"content\"}}'><a href=\"./Parser_test#cite_note-blank-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></p>\n\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt9\" data-parsoid='{\"dsr\":[60,74,14,0]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'><li about=\"#cite_note-blank-1\" id=\"cite_note-blank-1\" data-parsoid=\"{}\"><span rel=\"mw:referencedBy\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-blank_1-0\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">1 </span></a><a href=\"./Parser_test#cite_ref-blank_1-1\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">2 </span></a></span> <span id=\"mw-reference-text-cite_note-blank-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">1</span></li></ol>");
add("wt2html", "Ref names containing a number", "<p data-parsoid='{\"dsr\":[0,95,0,0]}'><sup about=\"#mwt3\" class=\"mw-ref\" id=\"cite_ref-test123test_1-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[0,33,24,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"test123test\"},\"body\":{\"id\":\"mw-reference-text-cite_note-test123test-1\"}}'><a href=\"./Parser_test#cite_note-test123test-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup>\n<sup about=\"#mwt6\" class=\"mw-ref\" id=\"cite_ref-123test_2-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[34,63,20,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"123test\"},\"body\":{\"id\":\"mw-reference-text-cite_note-123test-2\"}}'><a href=\"./Parser_test#cite_note-123test-2\" style=\"counter-reset: mw-Ref 2;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[2]</span></a></sup>\n<sup about=\"#mwt9\" class=\"mw-ref\" id=\"cite_ref-test123_3-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[64,95,20,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"test123\"},\"body\":{\"id\":\"mw-reference-text-cite_note-test123-3\"}}'><a href=\"./Parser_test#cite_note-test123-3\" style=\"counter-reset: mw-Ref 3;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[3]</span></a></sup></p>\n\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt12\" data-parsoid='{\"dsr\":[97,111,14,0]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'><li about=\"#cite_note-test123test-1\" id=\"cite_note-test123test-1\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-test123test_1-0\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-test123test-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">One</span></li><li about=\"#cite_note-123test-2\" id=\"cite_note-123test-2\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-123test_2-0\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-123test-2\" class=\"mw-reference-text\" data-parsoid=\"{}\">Two</span></li><li about=\"#cite_note-test123-3\" id=\"cite_note-test123-3\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-test123_3-0\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-test123-3\" class=\"mw-reference-text\" data-parsoid=\"{}\">Three</span></li></ol>");
add("wt2html", "T184912: Consistent normalization of consecutive underscores", "<p data-parsoid='{\"dsr\":[0,30,0,0]}'><sup about=\"#mwt3\" class=\"mw-ref\" id=\"cite_ref-x__x_1-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[0,30,17,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"x__x\"},\"body\":{\"id\":\"mw-reference-text-cite_note-x__x-1\"}}'><a href=\"./Parser_test#cite_note-x__x-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></p>\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt6\" data-parsoid='{\"dsr\":[31,45,14,0]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'><li about=\"#cite_note-x__x-1\" id=\"cite_note-x__x-1\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-x__x_1-0\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-x__x-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">example</span></li></ol>");
add("wt2html", "Erroneous refs", "<p data-parsoid='{\"dsr\":[0,24,0,0]}'><sup about=\"#mwt3\" class=\"mw-ref\" id=\"cite_ref-0_1-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[0,24,14,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"0\"},\"body\":{\"id\":\"mw-reference-text-cite_note-0-1\"}}'><a href=\"./Parser_test#cite_note-0-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></p>\n\n<p data-parsoid='{\"dsr\":[26,77,0,0]}'><sup about=\"#mwt6\" class=\"mw-ref\" id=\"cite_ref-2\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[26,77,5,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{},\"body\":{\"id\":\"mw-reference-text-cite_note-2\"}}'><a href=\"./Parser_test#cite_note-2\" style=\"counter-reset: mw-Ref 2;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[2]</span></a></sup></p>\n\n<p data-parsoid='{\"dsr\":[79,86,0,0]}'><sup about=\"#mwt9\" class=\"mw-ref\" id=\"cite_ref-3\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[79,86,7,0]}' data-mw='{\"name\":\"ref\",\"attrs\":{}}'><a href=\"./Parser_test#cite_note-3\" style=\"counter-reset: mw-Ref 3;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[3]</span></a></sup></p>\n\n<p data-parsoid='{\"dsr\":[88,117,0,0]}'><sup about=\"#mwt12\" class=\"mw-ref\" id=\"cite_ref-bar_4-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[88,117,29,0]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"bar\"}}'><a href=\"./Parser_test#cite_note-bar-4\" style=\"counter-reset: mw-Ref 4;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[4]</span></a></sup></p>\n\n<p data-parsoid='{\"dsr\":[119,154,0,0]}'><sup about=\"#mwt15\" class=\"mw-ref\" id=\"cite_ref-blankwithnoreference_5-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[119,154,35,0]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"blankwithnoreference\"}}'><a href=\"./Parser_test#cite_note-blankwithnoreference-5\" style=\"counter-reset: mw-Ref 5;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[5]</span></a></sup></p>\n\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt18\" data-parsoid='{\"dsr\":[156,184,28,0]}' data-mw='{\"name\":\"references\",\"attrs\":{\"name\":\"quasit\"}}'><li about=\"#cite_note-0-1\" id=\"cite_note-0-1\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-0_1-0\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-0-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">Zero</span></li><li about=\"#cite_note-2\" id=\"cite_note-2\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-2\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-2\" class=\"mw-reference-text\" data-parsoid=\"{}\">Also zero, but differently! (Normal ref)</span></li><li about=\"#cite_note-3\" id=\"cite_note-3\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-3\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-3\" class=\"mw-reference-text\" data-parsoid=\"{}\"></span></li><li about=\"#cite_note-bar-4\" id=\"cite_note-bar-4\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-bar_4-0\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-bar-4\" class=\"mw-reference-text\" data-parsoid=\"{}\"></span></li><li about=\"#cite_note-blankwithnoreference-5\" id=\"cite_note-blankwithnoreference-5\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-blankwithnoreference_5-0\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-blankwithnoreference-5\" class=\"mw-reference-text\" data-parsoid=\"{}\"></span></li></ol>\n\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt21\" data-parsoid='{\"dsr\":[186,200,14,0]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'></ol>");
add("wt2html", "Can't have name=\"…\" and follow=\"…\" the same time", "<p data-parsoid='{\"dsr\":[0,54,0,0]}'><sup about=\"#mwt3\" class=\"mw-ref\" id=\"cite_ref-theName_1-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[0,54,40,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"theName\",\"follow\":\"theFollows\"},\"body\":{\"id\":\"mw-reference-text-cite_note-theName-1\"}}'><a href=\"./Parser_test#cite_note-theName-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></p>\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt6\" data-parsoid='{\"dsr\":[55,69,14,0]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'><li about=\"#cite_note-theName-1\" id=\"cite_note-theName-1\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-theName_1-0\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-theName-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">theValue</span></li></ol>");
add("wt2html", "Conflicting name=\"…\" and follow=\"…\" still invalid when a third parameter is present", "<p data-parsoid='{\"dsr\":[0,68,0,0]}'><sup about=\"#mwt3\" class=\"mw-ref\" id=\"cite_ref-theName_1-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[0,68,54,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"theName\",\"follow\":\"theFollows\",\"dummy\":\"dummy\"},\"body\":{\"id\":\"mw-reference-text-cite_note-theName-1\"}}'><a href=\"./Parser_test#cite_note-theName-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></p>\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt6\" data-parsoid='{\"dsr\":[69,83,14,0]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'><li about=\"#cite_note-theName-1\" id=\"cite_note-theName-1\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-theName_1-0\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-theName-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">theValue</span></li></ol>");
add("wt2html", "Valid parameters become invalid when a third is present", "<p data-parsoid='{\"dsr\":[0,65,0,0]}'><sup about=\"#mwt3\" class=\"mw-ref\" id=\"cite_ref-theName_1-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[0,65,51,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"theName\",\"group\":\"theGroup\",\"dummy\":\"dummy\"},\"body\":{\"id\":\"mw-reference-text-cite_note-theName-1\"}}'><a href=\"./Parser_test#cite_note-theName-1\" style=\"counter-reset: mw-Ref 1;\" data-mw-group=\"theGroup\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[theGroup 1]</span></a></sup></p>\n<ol class=\"mw-references references\" data-mw-group=\"theGroup\" typeof=\"mw:Extension/references\" about=\"#mwt6\" data-parsoid='{\"group\":\"theGroup\",\"dsr\":[66,97,31,0]}' data-mw='{\"name\":\"references\",\"attrs\":{\"group\":\"theGroup\"}}'><li about=\"#cite_note-theName-1\" id=\"cite_note-theName-1\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-theName_1-0\" data-mw-group=\"theGroup\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-theName-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">theValue</span></li></ol>");
add("wt2html", "Simple <ref>, with <references/> in group", "<p data-parsoid='{\"dsr\":[0,130,0,0]}'>Wikipedia rocks!<sup about=\"#mwt3\" class=\"mw-ref\" id=\"cite_ref-1\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[16,58,5,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{},\"body\":{\"id\":\"mw-reference-text-cite_note-1\"}}'><a href=\"./Parser_test#cite_note-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup>\nWikipedia rocks!<sup about=\"#mwt6\" class=\"mw-ref\" id=\"cite_ref-2\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[75,130,18,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"group\":\"note\"},\"body\":{\"id\":\"mw-reference-text-cite_note-2\"}}'><a href=\"./Parser_test#cite_note-2\" style=\"counter-reset: mw-Ref 1;\" data-mw-group=\"note\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[note 1]</span></a></sup></p>\n\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt9\" data-parsoid='{\"dsr\":[132,146,14,0]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'><li about=\"#cite_note-1\" id=\"cite_note-1\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-1\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">Proceeds of Rockology, vol. XXI</span></li></ol>\n<ol class=\"mw-references references\" data-mw-group=\"note\" typeof=\"mw:Extension/references\" about=\"#mwt12\" data-parsoid='{\"group\":\"note\",\"dsr\":[147,174,27,0]}' data-mw='{\"name\":\"references\",\"attrs\":{\"group\":\"note\"}}'><li about=\"#cite_note-2\" id=\"cite_note-2\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-2\" data-mw-group=\"note\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-2\" class=\"mw-reference-text\" data-parsoid=\"{}\">Proceeds of Rockology, vol. XXI</span></li></ol>");
add("wt2html", "Simple <ref>, with <references/> in group, with groupname in Chinese", "<p data-parsoid='{\"dsr\":[0,88,0,0]}'>AAA<sup about=\"#mwt5\" class=\"mw-ref\" id=\"cite_ref-1\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[3,29,15,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"group\":\"参\"},\"body\":{\"id\":\"mw-reference-text-cite_note-1\"}}'><a href=\"./Parser_test#cite_note-1\" style=\"counter-reset: mw-Ref 1;\" data-mw-group=\"参\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[参 1]</span></a></sup>BBB<sup about=\"#mwt7\" class=\"mw-ref\" id=\"cite_ref-2\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[32,59,15,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"group\":\"注\"},\"body\":{\"id\":\"mw-reference-text-cite_note-2\"}}'><a href=\"./Parser_test#cite_note-2\" style=\"counter-reset: mw-Ref 1;\" data-mw-group=\"注\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[注 1]</span></a></sup>CCC<sup about=\"#mwt9\" class=\"mw-ref\" id=\"cite_ref-3\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[62,88,15,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"group\":\"参\"},\"body\":{\"id\":\"mw-reference-text-cite_note-3\"}}'><a href=\"./Parser_test#cite_note-3\" style=\"counter-reset: mw-Ref 2;\" data-mw-group=\"参\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[参 2]</span></a></sup></p>\n\n<dl data-parsoid='{\"dsr\":[90,95,0,0]}'><dt data-parsoid='{\"dsr\":[90,95,1,0]}'>refs</dt></dl>\n<ol class=\"mw-references references\" data-mw-group=\"参\" typeof=\"mw:Extension/references\" about=\"#mwt12\" data-parsoid='{\"group\":\"参\",\"dsr\":[96,120,24,0]}' data-mw='{\"name\":\"references\",\"attrs\":{\"group\":\"参\"}}'><li about=\"#cite_note-1\" id=\"cite_note-1\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-1\" data-mw-group=\"参\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">ref a</span></li><li about=\"#cite_note-3\" id=\"cite_note-3\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-3\" data-mw-group=\"参\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-3\" class=\"mw-reference-text\" data-parsoid=\"{}\">ref c</span></li></ol>\n\n<dl data-parsoid='{\"dsr\":[122,128,0,0]}'><dt data-parsoid='{\"dsr\":[122,128,1,0]}'>notes</dt></dl>\n<ol class=\"mw-references references\" data-mw-group=\"注\" typeof=\"mw:Extension/references\" about=\"#mwt15\" data-parsoid='{\"group\":\"注\",\"dsr\":[129,153,24,0]}' data-mw='{\"name\":\"references\",\"attrs\":{\"group\":\"注\"}}'><li about=\"#cite_note-2\" id=\"cite_note-2\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-2\" data-mw-group=\"注\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-2\" class=\"mw-reference-text\" data-parsoid=\"{}\">note b</span></li></ol>");
add("wt2html", "<ref> defined in <references>", "<p data-parsoid='{\"dsr\":[0,18,0,0]}'><sup about=\"#mwt3\" class=\"mw-ref\" id=\"cite_ref-foo_1-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[0,18,18,0]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"foo\"}}'><a href=\"./Parser_test#cite_note-foo-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></p>\n\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt9\" data-parsoid='{\"dsr\":[20,72,12,13]}' data-mw='{\"name\":\"references\",\"attrs\":{},\"body\":{\"html\":\"\\n&lt;sup about=\\\"#mwt7\\\" class=\\\"mw-ref\\\" rel=\\\"dc:references\\\" typeof=\\\"mw:Extension/ref\\\" data-parsoid=&apos;{\\\"dsr\\\":[33,58,16,6]}&apos; data-mw=&apos;{\\\"name\\\":\\\"ref\\\",\\\"attrs\\\":{\\\"name\\\":\\\"foo\\\"},\\\"body\\\":{\\\"id\\\":\\\"mw-reference-text-cite_note-foo-1\\\"}}&apos;>&lt;a href=\\\"./Parser_test#cite_note-foo-1\\\" style=\\\"counter-reset: mw-Ref 1;\\\" data-parsoid=\\\"{}\\\">&lt;span class=\\\"mw-reflink-text\\\" data-parsoid=\\\"{}\\\">[1]&lt;/span>&lt;/a>&lt;/sup>\\n\"}}'><li about=\"#cite_note-foo-1\" id=\"cite_note-foo-1\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-foo_1-0\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-foo-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">BAR</span></li></ol>");
add("wt2html", "<ref> defined in <references> called with #tag", "<p data-parsoid='{\"dsr\":[0,18,0,0]}'><sup about=\"#mwt3\" class=\"mw-ref\" id=\"cite_ref-foo_1-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[0,18,18,0]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"foo\"}}'><a href=\"./Parser_test#cite_note-foo-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></p>\n\n<p data-parsoid='{\"dsr\":[20,67,0,0]}'><references about=\"#mwt5\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[20,67,null,null],\"pi\":[[{\"k\":\"1\"}]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#tag:references\",\"function\":\"tag\"},\"params\":{\"1\":{\"wt\":\"\\n&lt;ref name=\\\"foo\\\">BAR&lt;/ref>\\n\"}},\"i\":0}}]}'>\n<sup about=\"#mwt7\" class=\"mw-ref\" id=\"cite_ref-foo_1-1\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"src\":\"&lt;ref name=\\\"foo\\\">BAR&lt;/ref>\"}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"foo\"},\"body\":{\"id\":\"mw-reference-text-cite_note-foo-1\"}}'><a href=\"./Parser_test#cite_note-foo-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup>\n</references></p>\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt8\" data-parsoid='{\"dsr\":[67,67,0,0]}' data-mw='{\"name\":\"references\",\"attrs\":{},\"autoGenerated\":true}'><li about=\"#cite_note-foo-1\" id=\"cite_note-foo-1\" data-parsoid=\"{}\"><span rel=\"mw:referencedBy\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-foo_1-0\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">1 </span></a><a href=\"./Parser_test#cite_ref-foo_1-1\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">2 </span></a></span> <span id=\"mw-reference-text-cite_note-foo-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">BAR</span></li></ol>");
add("wt2html", "<ref> defined in <references> error conditions", "<p data-parsoid='{\"dsr\":[0,28,0,0]}'><sup about=\"#mwt3\" class=\"mw-ref\" id=\"cite_ref-foo_1-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[0,28,28,0]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"foo\",\"group\":\"2\"}}'><a href=\"./Parser_test#cite_note-foo-1\" style=\"counter-reset: mw-Ref 1;\" data-mw-group=\"2\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[2 1]</span></a></sup></p>\n\n<ol class=\"mw-references references\" data-mw-group=\"2\" typeof=\"mw:Extension/references\" about=\"#mwt18\" data-parsoid='{\"group\":\"2\",\"dsr\":[30,175,22,13]}' data-mw='{\"name\":\"references\",\"attrs\":{\"group\":\"2\"},\"body\":{\"html\":\"\\n&lt;sup about=\\\"#mwt7\\\" class=\\\"mw-ref\\\" rel=\\\"dc:references\\\" typeof=\\\"mw:Extension/ref\\\" data-parsoid=&apos;{\\\"dsr\\\":[53,71,18,0]}&apos; data-mw=&apos;{\\\"name\\\":\\\"ref\\\",\\\"attrs\\\":{\\\"name\\\":\\\"foo\\\"}}&apos;>&lt;a href=\\\"./Parser_test#cite_note-foo-1\\\" style=\\\"counter-reset: mw-Ref 1;\\\" data-mw-group=\\\"2\\\" data-parsoid=\\\"{}\\\">&lt;span class=\\\"mw-reflink-text\\\" data-parsoid=\\\"{}\\\">[2 1]&lt;/span>&lt;/a>&lt;/sup>\\n&lt;sup about=\\\"#mwt10\\\" class=\\\"mw-ref\\\" rel=\\\"dc:references\\\" typeof=\\\"mw:Extension/ref\\\" data-parsoid=&apos;{\\\"dsr\\\":[72,100,19,6]}&apos; data-mw=&apos;{\\\"name\\\":\\\"ref\\\",\\\"attrs\\\":{\\\"name\\\":\\\"unused\\\"},\\\"body\\\":{\\\"id\\\":\\\"mw-reference-text-cite_note-unused-2\\\"}}&apos;>&lt;a href=\\\"./Parser_test#cite_note-unused-2\\\" style=\\\"counter-reset: mw-Ref 2;\\\" data-mw-group=\\\"2\\\" data-parsoid=\\\"{}\\\">&lt;span class=\\\"mw-reflink-text\\\" data-parsoid=\\\"{}\\\">[2 2]&lt;/span>&lt;/a>&lt;/sup>\\n&lt;sup about=\\\"#mwt13\\\" class=\\\"mw-ref\\\" rel=\\\"dc:references\\\" typeof=\\\"mw:Extension/ref\\\" data-parsoid=&apos;{\\\"dsr\\\":[101,142,26,6]}&apos; data-mw=&apos;{\\\"name\\\":\\\"ref\\\",\\\"attrs\\\":{\\\"name\\\":\\\"foo\\\",\\\"group\\\":\\\"1\\\"},\\\"body\\\":{\\\"id\\\":\\\"mw-reference-text-cite_note-foo-3\\\"}}&apos;>&lt;a href=\\\"./Parser_test#cite_note-foo-3\\\" style=\\\"counter-reset: mw-Ref 1;\\\" data-mw-group=\\\"1\\\" data-parsoid=\\\"{}\\\">&lt;span class=\\\"mw-reflink-text\\\" data-parsoid=\\\"{}\\\">[1 1]&lt;/span>&lt;/a>&lt;/sup>\\n&lt;sup about=\\\"#mwt16\\\" class=\\\"mw-ref\\\" rel=\\\"dc:references\\\" typeof=\\\"mw:Extension/ref\\\" data-parsoid=&apos;{\\\"dsr\\\":[143,161,5,6]}&apos; data-mw=&apos;{\\\"name\\\":\\\"ref\\\",\\\"attrs\\\":{},\\\"body\\\":{\\\"id\\\":\\\"mw-reference-text-cite_note-4\\\"}}&apos;>&lt;a href=\\\"./Parser_test#cite_note-4\\\" style=\\\"counter-reset: mw-Ref 3;\\\" data-mw-group=\\\"2\\\" data-parsoid=\\\"{}\\\">&lt;span class=\\\"mw-reflink-text\\\" data-parsoid=\\\"{}\\\">[2 3]&lt;/span>&lt;/a>&lt;/sup>\\n\"}}'><li about=\"#cite_note-foo-1\" id=\"cite_note-foo-1\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-foo_1-0\" data-mw-group=\"2\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-foo-1\" class=\"mw-reference-text\" data-parsoid=\"{}\"></span></li><li about=\"#cite_note-unused-2\" id=\"cite_note-unused-2\" data-parsoid=\"{}\"><span rel=\"mw:referencedBy\" data-parsoid=\"{}\"></span> <span id=\"mw-reference-text-cite_note-unused-2\" class=\"mw-reference-text\" data-parsoid=\"{}\">BAR</span></li><li about=\"#cite_note-4\" id=\"cite_note-4\" data-parsoid=\"{}\"><span rel=\"mw:referencedBy\" data-parsoid=\"{}\"></span> <span id=\"mw-reference-text-cite_note-4\" class=\"mw-reference-text\" data-parsoid=\"{}\">BAR BAR</span></li></ol>\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt19\" data-mw-group=\"1\" data-parsoid='{\"group\":\"1\",\"dsr\":[175,175,0,0]}' data-mw='{\"name\":\"references\",\"attrs\":{\"group\":\"1\"},\"autoGenerated\":true}'><li about=\"#cite_note-foo-3\" id=\"cite_note-foo-3\" data-parsoid=\"{}\"><span rel=\"mw:referencedBy\" data-parsoid=\"{}\"></span> <span id=\"mw-reference-text-cite_note-foo-3\" class=\"mw-reference-text\" data-parsoid=\"{}\">bad group</span></li></ol>");
add("wt2html", "<ref> with custom group link with number names in Klingon", "<p data-parsoid='{\"dsr\":[0,74,0,0]}'>Wikipedia rocks!<sup about=\"#mwt3\" class=\"mw-ref\" id=\"cite_ref-1\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[16,74,21,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"group\":\"klingon\"},\"body\":{\"id\":\"mw-reference-text-cite_note-1\"}}'><a href=\"./Parser_test#cite_note-1\" style=\"counter-reset: mw-Ref 1;\" data-mw-group=\"klingon\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[klingon 1]</span></a></sup></p>\n\n<ol class=\"mw-references references\" data-mw-group=\"klingon\" typeof=\"mw:Extension/references\" about=\"#mwt6\" data-parsoid='{\"group\":\"klingon\",\"dsr\":[76,106,30,0]}' data-mw='{\"name\":\"references\",\"attrs\":{\"group\":\"klingon\"}}'><li about=\"#cite_note-1\" id=\"cite_note-1\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-1\" data-mw-group=\"klingon\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">Proceeds of Rockology, vol. XXI</span></li></ol>");
add("wt2html", "Consecutive whitespace in custom link label message should not create empty []", "<p data-parsoid='{\"dsr\":[0,61,0,0]}'><sup about=\"#mwt3\" class=\"mw-ref\" id=\"cite_ref-1\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[0,30,21,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"group\":\"klingon\"},\"body\":{\"id\":\"mw-reference-text-cite_note-1\"}}'><a href=\"./Parser_test#cite_note-1\" style=\"counter-reset: mw-Ref 1;\" data-mw-group=\"klingon\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[klingon 1]</span></a></sup>\n<sup about=\"#mwt6\" class=\"mw-ref\" id=\"cite_ref-2\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[31,61,21,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"group\":\"klingon\"},\"body\":{\"id\":\"mw-reference-text-cite_note-2\"}}'><a href=\"./Parser_test#cite_note-2\" style=\"counter-reset: mw-Ref 2;\" data-mw-group=\"klingon\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[klingon 2]</span></a></sup></p>\n<ol class=\"mw-references references\" data-mw-group=\"klingon\" typeof=\"mw:Extension/references\" about=\"#mwt9\" data-parsoid='{\"group\":\"klingon\",\"dsr\":[62,92,30,0]}' data-mw='{\"name\":\"references\",\"attrs\":{\"group\":\"klingon\"}}'><li about=\"#cite_note-1\" id=\"cite_note-1\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-1\" data-mw-group=\"klingon\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">1st</span></li><li about=\"#cite_note-2\" id=\"cite_note-2\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-2\" data-mw-group=\"klingon\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-2\" class=\"mw-reference-text\" data-parsoid=\"{}\">2nd</span></li></ol>");
add("wt2html", "Bug 31374 regression check: nested strip items", "<p data-parsoid='{\"dsr\":[0,48,0,0]}'><ref about=\"#mwt2\" typeof=\"mw:Transclusion\" data-parsoid='{\"a\":{\"group\":null},\"sa\":{\"group\":\"Note\"},\"dsr\":[0,48,null,null],\"pi\":[[{\"k\":\"1\"},{\"k\":\"group\",\"named\":true}]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#tag:ref\",\"function\":\"tag\"},\"params\":{\"1\":{\"wt\":\"note&lt;ref>reference&lt;/ref>\"},\"group\":{\"wt\":\"Note\"}},\"i\":0}}]}'>note<sup about=\"#mwt4\" class=\"mw-ref\" id=\"cite_ref-1\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"src\":\"&lt;ref>reference&lt;/ref>\"}' data-mw='{\"name\":\"ref\",\"attrs\":{},\"body\":{\"id\":\"mw-reference-text-cite_note-1\"}}'><a href=\"./Parser_test#cite_note-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></ref></p>\n<ol class=\"mw-references references\" data-mw-group=\"Note\" typeof=\"mw:Extension/references\" about=\"#mwt7\" data-parsoid='{\"group\":\"Note\",\"dsr\":[49,76,27,0]}' data-mw='{\"name\":\"references\",\"attrs\":{\"group\":\"Note\"}}'></ol>\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt10\" data-parsoid='{\"dsr\":[77,91,14,0]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'><li about=\"#cite_note-1\" id=\"cite_note-1\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-1\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">reference</span></li></ol>");
add("wt2html", "Bug 13073 regression check: wrapped <references>", "<p data-parsoid='{\"dsr\":[0,16,0,0]}'><sup about=\"#mwt6\" class=\"mw-ref\" id=\"cite_ref-1\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[0,16,5,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{},\"body\":{\"id\":\"mw-reference-text-cite_note-1\"}}'><a href=\"./Parser_test#cite_note-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></p>\n<div data-parsoid='{\"stx\":\"html\",\"dsr\":[17,42,5,6]}'><ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt4\" data-parsoid='{\"dsr\":[22,36,14,0]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'><li about=\"#cite_note-1\" id=\"cite_note-1\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-1\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">\nfoo\n</span></li></ol></div>");
add("wt2html", "<ref> with no name and no content.", "<p data-parsoid='{\"dsr\":[0,15,0,0]}'>Bla.<sup about=\"#mwt3\" class=\"mw-ref\" id=\"cite_ref-1\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[4,15,5,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{},\"body\":{\"html\":\"\"}}'><a href=\"./Parser_test#cite_note-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></p>\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt4\" data-parsoid='{\"dsr\":[15,15,0,0]}' data-mw='{\"name\":\"references\",\"attrs\":{},\"autoGenerated\":true}'><li about=\"#cite_note-1\" id=\"cite_note-1\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-1\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-1\" class=\"mw-reference-text\" data-parsoid=\"{}\"></span></li></ol>");
add("wt2html", "<ref> with an empty-string name parameter and no content.", "<p data-parsoid='{\"dsr\":[0,23,0,0]}'>Bla.<sup about=\"#mwt3\" class=\"mw-ref\" id=\"cite_ref-1\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[4,23,13,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"\"},\"body\":{\"html\":\"\"}}'><a href=\"./Parser_test#cite_note-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></p>\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt4\" data-parsoid='{\"dsr\":[23,23,0,0]}' data-mw='{\"name\":\"references\",\"attrs\":{},\"autoGenerated\":true}'><li about=\"#cite_note-1\" id=\"cite_note-1\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-1\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-1\" class=\"mw-reference-text\" data-parsoid=\"{}\"></span></li></ol>");
add("wt2html", "<ref> with a non-empty name parameter and no content.", "<p data-parsoid='{\"dsr\":[0,27,0,0]}'>Bla.<sup about=\"#mwt3\" class=\"mw-ref\" id=\"cite_ref-void_1-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[4,27,17,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"void\"},\"body\":{\"html\":\"\"}}'><a href=\"./Parser_test#cite_note-void-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></p>\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt4\" data-parsoid='{\"dsr\":[27,27,0,0]}' data-mw='{\"name\":\"references\",\"attrs\":{},\"autoGenerated\":true}'><li about=\"#cite_note-void-1\" id=\"cite_note-void-1\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-void_1-0\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-void-1\" class=\"mw-reference-text\" data-parsoid=\"{}\"></span></li></ol>");
add("wt2html", "<ref>s with the follow parameter", "<p data-parsoid='{\"dsr\":[0,62,0,0]}'>Page one.<sup about=\"#mwt3\" class=\"mw-ref\" id=\"cite_ref-beginning_1-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[9,62,22,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"beginning\"},\"body\":{\"id\":\"mw-reference-text-cite_note-beginning-1\"}}'><a href=\"./Parser_test#cite_note-beginning-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></p>\n\n<p data-parsoid='{\"dsr\":[64,129,0,0]}'>Page two.<sup about=\"#mwt6\" class=\"mw-ref\" id=\"cite_ref-2\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[73,129,24,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"follow\":\"beginning\"},\"body\":{\"id\":\"mw-reference-text-cite_note-2\"}}'><a href=\"./Parser_test#cite_note-2\" style=\"counter-reset: mw-Ref 2;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[2]</span></a></sup></p>\n\n<h2 id=\"References\" data-parsoid='{\"dsr\":[131,147,2,2]}'>References</h2>\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt9\" data-parsoid='{\"dsr\":[148,162,14,0]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'><li about=\"#cite_note-beginning-1\" id=\"cite_note-beginning-1\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-beginning_1-0\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-beginning-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">First page footnote text.</span></li><li about=\"#cite_note-2\" id=\"cite_note-2\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-2\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-2\" class=\"mw-reference-text\" data-parsoid=\"{}\">Second page footnote text.</span></li></ol>");
add("wt2html", "<ref> with both name and follow parameters - invalid", "<p data-parsoid='{\"dsr\":[0,74,0,0]}'>Page one.<sup about=\"#mwt3\" class=\"mw-ref\" id=\"cite_ref-the-name_1-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[9,74,39,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"the-name\",\"follow\":\"the-name\"},\"body\":{\"id\":\"mw-reference-text-cite_note-the-name-1\"}}'><a href=\"./Parser_test#cite_note-the-name-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></p>\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt6\" data-parsoid='{\"dsr\":[75,89,14,0]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'><li about=\"#cite_note-the-name-1\" id=\"cite_note-the-name-1\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-the-name_1-0\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-the-name-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">This ref is invalid.</span></li></ol>");
add("wt2html", "Multiple definition (outside <references/>)", "<p data-parsoid='{\"dsr\":[0,47,0,0]}'><sup about=\"#mwt3\" class=\"mw-ref\" id=\"cite_ref-a_1-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[0,23,14,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"a\"},\"body\":{\"id\":\"mw-reference-text-cite_note-a-1\"}}'><a href=\"./Parser_test#cite_note-a-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup>\n<sup about=\"#mwt6\" class=\"mw-ref\" id=\"cite_ref-a_1-1\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[24,47,14,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"a\"},\"body\":{\"html\":\"def\"}}'><a href=\"./Parser_test#cite_note-a-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></p>\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt9\" data-parsoid='{\"dsr\":[48,62,14,0]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'><li about=\"#cite_note-a-1\" id=\"cite_note-a-1\" data-parsoid=\"{}\"><span rel=\"mw:referencedBy\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-a_1-0\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">1 </span></a><a href=\"./Parser_test#cite_ref-a_1-1\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">2 </span></a></span> <span id=\"mw-reference-text-cite_note-a-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">abc</span></li></ol>");
add("wt2html", "Multiple definition (inside <references/>)", "<p data-parsoid='{\"dsr\":[0,16,0,0]}'><sup about=\"#mwt3\" class=\"mw-ref\" id=\"cite_ref-a_1-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[0,16,16,0]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"a\"}}'><a href=\"./Parser_test#cite_note-a-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></p>\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt12\" data-parsoid='{\"dsr\":[17,91,12,13]}' data-mw='{\"name\":\"references\",\"attrs\":{},\"body\":{\"html\":\"\\n&lt;sup about=\\\"#mwt7\\\" class=\\\"mw-ref\\\" rel=\\\"dc:references\\\" typeof=\\\"mw:Extension/ref\\\" data-parsoid=&apos;{\\\"dsr\\\":[30,53,14,6]}&apos; data-mw=&apos;{\\\"name\\\":\\\"ref\\\",\\\"attrs\\\":{\\\"name\\\":\\\"a\\\"},\\\"body\\\":{\\\"id\\\":\\\"mw-reference-text-cite_note-a-1\\\"}}&apos;>&lt;a href=\\\"./Parser_test#cite_note-a-1\\\" style=\\\"counter-reset: mw-Ref 1;\\\" data-parsoid=\\\"{}\\\">&lt;span class=\\\"mw-reflink-text\\\" data-parsoid=\\\"{}\\\">[1]&lt;/span>&lt;/a>&lt;/sup>\\n&lt;sup about=\\\"#mwt10\\\" class=\\\"mw-ref\\\" rel=\\\"dc:references\\\" typeof=\\\"mw:Extension/ref\\\" data-parsoid=&apos;{\\\"dsr\\\":[54,77,14,6]}&apos; data-mw=&apos;{\\\"name\\\":\\\"ref\\\",\\\"attrs\\\":{\\\"name\\\":\\\"a\\\"},\\\"body\\\":{\\\"html\\\":\\\"def\\\"}}&apos;>&lt;a href=\\\"./Parser_test#cite_note-a-1\\\" style=\\\"counter-reset: mw-Ref 1;\\\" data-parsoid=\\\"{}\\\">&lt;span class=\\\"mw-reflink-text\\\" data-parsoid=\\\"{}\\\">[1]&lt;/span>&lt;/a>&lt;/sup>\\n\"}}'><li about=\"#cite_note-a-1\" id=\"cite_note-a-1\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-a_1-0\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-a-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">abc</span></li></ol>");
add("wt2html", "Multiple definition (mixed outside/inside)", "<p data-parsoid='{\"dsr\":[0,23,0,0]}'><sup about=\"#mwt3\" class=\"mw-ref\" id=\"cite_ref-a_1-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[0,23,14,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"a\"},\"body\":{\"id\":\"mw-reference-text-cite_note-a-1\"}}'><a href=\"./Parser_test#cite_note-a-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup></p>\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt9\" data-parsoid='{\"dsr\":[24,74,12,13]}' data-mw='{\"name\":\"references\",\"attrs\":{},\"body\":{\"html\":\"\\n&lt;sup about=\\\"#mwt7\\\" class=\\\"mw-ref\\\" rel=\\\"dc:references\\\" typeof=\\\"mw:Extension/ref\\\" data-parsoid=&apos;{\\\"dsr\\\":[37,60,14,6]}&apos; data-mw=&apos;{\\\"name\\\":\\\"ref\\\",\\\"attrs\\\":{\\\"name\\\":\\\"a\\\"},\\\"body\\\":{\\\"html\\\":\\\"def\\\"}}&apos;>&lt;a href=\\\"./Parser_test#cite_note-a-1\\\" style=\\\"counter-reset: mw-Ref 1;\\\" data-parsoid=\\\"{}\\\">&lt;span class=\\\"mw-reflink-text\\\" data-parsoid=\\\"{}\\\">[1]&lt;/span>&lt;/a>&lt;/sup>\\n\"}}'><li about=\"#cite_note-a-1\" id=\"cite_note-a-1\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-a_1-0\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-a-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">abc</span></li></ol>");
add("wt2html", "Multiple definition (inside {{#tag:references}})", "<p data-parsoid='{\"dsr\":[0,86,0,0]}'><sup about=\"#mwt3\" class=\"mw-ref\" id=\"cite_ref-a_1-0\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[0,16,16,0]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"a\"}}'><a href=\"./Parser_test#cite_note-a-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup>\n<references about=\"#mwt6\" typeof=\"mw:Transclusion\" data-parsoid='{\"dsr\":[17,86,null,null],\"pi\":[[{\"k\":\"1\"}]]}' data-mw='{\"parts\":[{\"template\":{\"target\":{\"wt\":\"#tag:references\",\"function\":\"tag\"},\"params\":{\"1\":{\"wt\":\"\\n&lt;ref name=\\\"a\\\">abc&lt;/ref>\\n&lt;ref name=\\\"a\\\">def&lt;/ref>\\n\"}},\"i\":0}}]}'>\n<sup about=\"#mwt8\" class=\"mw-ref\" id=\"cite_ref-a_1-1\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"src\":\"&lt;ref name=\\\"a\\\">abc&lt;/ref>\"}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"a\"},\"body\":{\"id\":\"mw-reference-text-cite_note-a-1\"}}'><a href=\"./Parser_test#cite_note-a-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup>\n<sup about=\"#mwt10\" class=\"mw-ref\" id=\"cite_ref-a_1-2\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"src\":\"&lt;ref name=\\\"a\\\">def&lt;/ref>\"}' data-mw='{\"name\":\"ref\",\"attrs\":{\"name\":\"a\"},\"body\":{\"html\":\"def\"}}'><a href=\"./Parser_test#cite_note-a-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup>\n</references></p>\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt11\" data-parsoid='{\"dsr\":[86,86,0,0]}' data-mw='{\"name\":\"references\",\"attrs\":{},\"autoGenerated\":true}'><li about=\"#cite_note-a-1\" id=\"cite_note-a-1\" data-parsoid=\"{}\"><span rel=\"mw:referencedBy\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-a_1-0\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">1 </span></a><a href=\"./Parser_test#cite_ref-a_1-1\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">2 </span></a><a href=\"./Parser_test#cite_ref-a_1-2\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">3 </span></a></span> <span id=\"mw-reference-text-cite_note-a-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">abc</span></li></ol>");


// Blacklist for wt2wt
add("wt2wt", "Simple <ref>, no <references/>", "Wikipedia rocks!<ref>Proceeds of Rockology, vol. XXI</ref>\n<references />");
add("wt2wt", "<ref> with a simple template", "Templating<ref>{{simple template}}</ref>\n\n<references />");
add("wt2wt", "{{REVISIONID}} on page with <ref> (bug 6299)", "{{REVISIONID}}<ref>elite</ref>\n<references />");
add("wt2wt", "Erroneous refs", "<ref name=\"0\">Zero</ref>\n\n<ref>Also zero, but differently! (Normal ref)</ref>\n\n<ref />\n\n<ref name=\"bar\" />\n\n<ref name=\"blankwithnoreference\" />\n\n<references name=\"quasit\" />\n\n<references />");
add("wt2wt", "<ref> defined in <references> called with #tag", "<ref name=\"foo\" />\n\n{{#tag:references|\n<ref name=\"foo\">BAR</ref>\n}}\n<references />");
add("wt2wt", "<ref> defined in <references> error conditions", "<ref name=\"foo\" group=\"2\" />\n\n<references group=\"2\">\n<ref name=\"foo\" />\n<ref name=\"unused\">BAR</ref>\n<ref name=\"foo\" group=\"1\">bad group</ref>\n<ref>BAR BAR</ref>\n</references>\n<references group=\"1\" />");
add("wt2wt", "<ref> with no name and no content.", "Bla.<ref></ref>\n<references />");
add("wt2wt", "<ref> with an empty-string name parameter and no content.", "Bla.<ref name=\"\"></ref>\n<references />");
add("wt2wt", "<ref> with a non-empty name parameter and no content.", "Bla.<ref name=\"void\"></ref>\n<references />");
add("wt2wt", "<ref>s with the follow parameter", "Page one.<ref name=\"beginning\">First page footnote text.</ref>\n\nPage two.<ref follow=\"beginning\">Second page footnote text.</ref>\n\n==References==\n<references />");
add("wt2wt", "Multiple definition (inside {{#tag:references}})", "<ref name=\"a\" />\n{{#tag:references|\n<ref name=\"a\">abc</ref>\n<ref name=\"a\">def</ref>\n}}\n<references />");
add("wt2wt", "Ref: 3. spaces in ref-names should be ignored", "A <ref name=\"x\">foo</ref>\nB <ref name=\"x\" />\nC <ref name=\"x\" />\n<references />");
add("wt2wt", "Ref: 8. transclusion wikitext has lower precedence", "A <ref><nowiki> foo {{echo|</nowiki></ref><nowiki> B C}}</nowiki>\n\n<references />");
add("wt2wt", "Ref: 9. unclosed comments should not leak out of ref-body", "A <ref> foo <!----></ref> B C\n<references />");
add("wt2wt", "References: 9. Generate missing references list at the end", "A <ref>foo</ref>\nB <ref group=\"inexistent\">bar</ref>\n<references />\n<references group=\"inexistent\" />");


// Blacklist for html2html
add("html2html", "Simple <ref>, no <references/>", "<p data-parsoid='{\"dsr\":[0,81,0,0]}'>Wikipedia rocks!<sup id=\"cite_ref-1\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[16,81,39,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-1\"},\"sa\":{\"href\":\"#cite_note-1\"},\"dsr\":[55,75,15,2]}'>[1]</a></sup></p><div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[81,247,32,6]}'>\n<ol data-parsoid='{\"dsr\":[114,239,0,0]}'><li data-parsoid='{\"dsr\":[114,239,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[116,171,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-1\"},\"sa\":{\"href\":\"#cite_ref-1\"},\"dsr\":[147,164,14,2]}'>↑</a></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[172,239,29,7]}'>Proceeds of Rockology, vol. XXI</span></li></ol>\n\n</div>");
add("html2html", "Simple <ref>, with <references/>", "<p data-parsoid='{\"dsr\":[0,81,0,0]}'>Wikipedia rocks!<sup id=\"cite_ref-1\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[16,81,39,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-1\"},\"sa\":{\"href\":\"#cite_note-1\"},\"dsr\":[55,75,15,2]}'>[1]</a></sup></p>\n\n<div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[83,249,32,6]}'>\n<ol data-parsoid='{\"dsr\":[116,241,0,0]}'><li data-parsoid='{\"dsr\":[116,241,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[118,173,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-1\"},\"sa\":{\"href\":\"#cite_ref-1\"},\"dsr\":[149,166,14,2]}'>↑</a></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[174,241,29,7]}'>Proceeds of Rockology, vol. XXI</span></li></ol>\n\n</div>");
add("html2html", "<ref> with a simple template", "<p data-parsoid='{\"dsr\":[0,75,0,0]}'>Templating<sup id=\"cite_ref-1\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[10,75,39,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-1\"},\"sa\":{\"href\":\"#cite_note-1\"},\"dsr\":[49,69,15,2]}'>[1]</a></sup></p>\n\n<div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[77,234,32,6]}'>\n<ol data-parsoid='{\"dsr\":[110,226,0,0]}'><li data-parsoid='{\"dsr\":[110,226,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[112,167,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-1\"},\"sa\":{\"href\":\"#cite_ref-1\"},\"dsr\":[143,160,14,2]}'>↑</a></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[168,226,29,7]}'>A <i data-parsoid='{\"dsr\":[199,209,2,2]}'>simple</i> template.</span></li></ol>\n\n</div>");
add("html2html", "<ref> with a <nowiki>", "<p data-parsoid='{\"dsr\":[0,75,0,0]}'>Templating<sup id=\"cite_ref-1\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[10,75,39,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-1\"},\"sa\":{\"href\":\"#cite_note-1\"},\"dsr\":[49,69,15,2]}'>[1]</a></sup></p>\n\n<div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[77,248,32,6]}'>\n<ol data-parsoid='{\"dsr\":[110,240,0,0]}'><li data-parsoid='{\"dsr\":[110,240,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[112,167,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-1\"},\"sa\":{\"href\":\"#cite_ref-1\"},\"dsr\":[143,160,14,2]}'>↑</a></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[168,240,29,7]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[197,233,8,9]}'>{{simple template}}</span></span></li></ol>\n\n</div>");
add("html2html", "<!--comment--> in a <ref> (bug 5384)", "<p data-parsoid='{\"dsr\":[0,75,0,0]}'>Templating<sup id=\"cite_ref-1\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[10,75,39,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-1\"},\"sa\":{\"href\":\"#cite_note-1\"},\"dsr\":[49,69,15,2]}'>[1]</a></sup></p>\n\n<div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[77,216,32,6]}'>\n<ol data-parsoid='{\"dsr\":[110,208,0,0]}'><li data-parsoid='{\"dsr\":[110,208,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[112,167,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-1\"},\"sa\":{\"href\":\"#cite_ref-1\"},\"dsr\":[143,160,14,2]}'>↑</a></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[168,208,29,7]}'>Text</span></li></ol>\n\n</div>");
add("html2html", "{{REVISIONID}} on page with <ref> (bug 6299)", "<p data-parsoid='{\"dsr\":[0,69,0,0]}'>1337<sup id=\"cite_ref-1\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[4,69,39,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-1\"},\"sa\":{\"href\":\"#cite_note-1\"},\"dsr\":[43,63,15,2]}'>[1]</a></sup></p><div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[69,209,32,6]}'>\n<ol data-parsoid='{\"dsr\":[102,201,0,0]}'><li data-parsoid='{\"dsr\":[102,201,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[104,159,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-1\"},\"sa\":{\"href\":\"#cite_ref-1\"},\"dsr\":[135,152,14,2]}'>↑</a></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[160,201,29,7]}'>elite</span></li></ol>\n\n</div>");
add("html2html", "Ref with content followed by blank ref", "<p data-parsoid='{\"dsr\":[0,79,0,0]}'><sup id=\"cite_ref-blank_1-0\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,79,47,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-blank-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-blank-1\"},\"sa\":{\"href\":\"#cite_note-blank-1\"},\"dsr\":[47,73,21,2]}'>[1]</a></sup></p>\n\n<p data-parsoid='{\"dsr\":[81,160,0,0]}'><sup id=\"cite_ref-blank_1-1\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[81,160,47,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-blank-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-blank-1\"},\"sa\":{\"href\":\"#cite_note-blank-1\"},\"dsr\":[128,154,21,2]}'>[1]</a></sup></p>\n\n<div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[162,366,32,6]}'>\n<ol data-parsoid='{\"dsr\":[195,358,0,0]}'><li data-parsoid='{\"dsr\":[195,358,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[197,314,31,7]}'>↑ <sup data-parsoid='{\"stx\":\"html\",\"dsr\":[230,268,5,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-blank_1-0\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-blank_1-0\"},\"sa\":{\"href\":\"#cite_ref-blank_1-0\"},\"dsr\":[235,262,22,2]}'>1.0</a></sup> <sup data-parsoid='{\"stx\":\"html\",\"dsr\":[269,307,5,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-blank_1-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-blank_1-1\"},\"sa\":{\"href\":\"#cite_ref-blank_1-1\"},\"dsr\":[274,301,22,2]}'>1.1</a></sup></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[315,358,29,7]}'>content</span></li></ol>\n\n</div>");
add("html2html", "Blank ref followed by ref with content", "<p data-parsoid='{\"dsr\":[0,79,0,0]}'><sup id=\"cite_ref-blank_1-0\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,79,47,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-blank-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-blank-1\"},\"sa\":{\"href\":\"#cite_note-blank-1\"},\"dsr\":[47,73,21,2]}'>[1]</a></sup></p>\n\n<p data-parsoid='{\"dsr\":[81,160,0,0]}'><sup id=\"cite_ref-blank_1-1\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[81,160,47,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-blank-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-blank-1\"},\"sa\":{\"href\":\"#cite_note-blank-1\"},\"dsr\":[128,154,21,2]}'>[1]</a></sup></p>\n\n<div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[162,366,32,6]}'>\n<ol data-parsoid='{\"dsr\":[195,358,0,0]}'><li data-parsoid='{\"dsr\":[195,358,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[197,314,31,7]}'>↑ <sup data-parsoid='{\"stx\":\"html\",\"dsr\":[230,268,5,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-blank_1-0\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-blank_1-0\"},\"sa\":{\"href\":\"#cite_ref-blank_1-0\"},\"dsr\":[235,262,22,2]}'>1.0</a></sup> <sup data-parsoid='{\"stx\":\"html\",\"dsr\":[269,307,5,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-blank_1-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-blank_1-1\"},\"sa\":{\"href\":\"#cite_ref-blank_1-1\"},\"dsr\":[274,301,22,2]}'>1.1</a></sup></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[315,358,29,7]}'>content</span></li></ol>\n\n</div>");
add("html2html", "Regression: non-blank ref \"0\" followed by ref with content", "<p data-parsoid='{\"dsr\":[0,79,0,0]}'><sup id=\"cite_ref-blank_1-0\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,79,47,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-blank-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-blank-1\"},\"sa\":{\"href\":\"#cite_note-blank-1\"},\"dsr\":[47,73,21,2]}'>[1]</a></sup></p>\n\n<p data-parsoid='{\"dsr\":[81,160,0,0]}'><sup id=\"cite_ref-blank_1-1\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[81,160,47,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-blank-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-blank-1\"},\"sa\":{\"href\":\"#cite_note-blank-1\"},\"dsr\":[128,154,21,2]}'>[1]</a></sup></p>\n\n<div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[162,545,32,6]}'>\n<ol data-parsoid='{\"dsr\":[195,537,0,0]}'><li data-parsoid='{\"dsr\":[195,537,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[197,314,31,7]}'>↑ <sup data-parsoid='{\"stx\":\"html\",\"dsr\":[230,268,5,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-blank_1-0\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-blank_1-0\"},\"sa\":{\"href\":\"#cite_ref-blank_1-0\"},\"dsr\":[235,262,22,2]}'>1.0</a></sup> <sup data-parsoid='{\"stx\":\"html\",\"dsr\":[269,307,5,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-blank_1-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-blank_1-1\"},\"sa\":{\"href\":\"#cite_ref-blank_1-1\"},\"dsr\":[274,301,22,2]}'>1.1</a></sup></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[315,537,29,7]}'>0 <span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\" data-parsoid='{\"stx\":\"html\",\"dsr\":[346,530,58,7]}'>Cite error: Invalid <code data-parsoid='{\"stx\":\"html\",\"dsr\":[424,459,6,7]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[430,452,8,9]}'>&lt;ref></span></code> tag; name \"blank\" defined multiple times with different content</span></span></li></ol>\n\n</div>");
add("html2html", "Regression sanity check: non-blank ref \"1\" followed by ref with content", "<p data-parsoid='{\"dsr\":[0,79,0,0]}'><sup id=\"cite_ref-blank_1-0\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,79,47,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-blank-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-blank-1\"},\"sa\":{\"href\":\"#cite_note-blank-1\"},\"dsr\":[47,73,21,2]}'>[1]</a></sup></p>\n\n<p data-parsoid='{\"dsr\":[81,160,0,0]}'><sup id=\"cite_ref-blank_1-1\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[81,160,47,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-blank-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-blank-1\"},\"sa\":{\"href\":\"#cite_note-blank-1\"},\"dsr\":[128,154,21,2]}'>[1]</a></sup></p>\n\n<div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[162,545,32,6]}'>\n<ol data-parsoid='{\"dsr\":[195,537,0,0]}'><li data-parsoid='{\"dsr\":[195,537,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[197,314,31,7]}'>↑ <sup data-parsoid='{\"stx\":\"html\",\"dsr\":[230,268,5,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-blank_1-0\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-blank_1-0\"},\"sa\":{\"href\":\"#cite_ref-blank_1-0\"},\"dsr\":[235,262,22,2]}'>1.0</a></sup> <sup data-parsoid='{\"stx\":\"html\",\"dsr\":[269,307,5,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-blank_1-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-blank_1-1\"},\"sa\":{\"href\":\"#cite_ref-blank_1-1\"},\"dsr\":[274,301,22,2]}'>1.1</a></sup></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[315,537,29,7]}'>1 <span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\" data-parsoid='{\"stx\":\"html\",\"dsr\":[346,530,58,7]}'>Cite error: Invalid <code data-parsoid='{\"stx\":\"html\",\"dsr\":[424,459,6,7]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[430,452,8,9]}'>&lt;ref></span></code> tag; name \"blank\" defined multiple times with different content</span></span></li></ol>\n\n</div>");
add("html2html", "Ref names containing a number", "<p data-parsoid='{\"dsr\":[0,259,0,0]}'><sup id=\"cite_ref-test123test_1-0\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,91,53,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-test123test-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-test123test-1\"},\"sa\":{\"href\":\"#cite_note-test123test-1\"},\"dsr\":[53,85,27,2]}'>[1]</a></sup>\n<sup id=\"cite_ref-123test_2-0\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[92,175,49,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-123test-2\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-123test-2\"},\"sa\":{\"href\":\"#cite_note-123test-2\"},\"dsr\":[141,169,23,2]}'>[2]</a></sup>\n<sup id=\"cite_ref-test123_3-0\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[176,259,49,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-test123-3\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-test123-3\"},\"sa\":{\"href\":\"#cite_note-test123-3\"},\"dsr\":[225,253,23,2]}'>[3]</a></sup></p>\n\n<div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[261,631,32,6]}'>\n<ol data-parsoid='{\"dsr\":[294,623,0,0]}'><li data-parsoid='{\"dsr\":[294,405,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[296,365,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-test123test_1-0\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-test123test_1-0\"},\"sa\":{\"href\":\"#cite_ref-test123test_1-0\"},\"dsr\":[327,358,28,2]}'>↑</a></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[366,405,29,7]}'>One</span></li>\n<li data-parsoid='{\"dsr\":[406,513,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[408,473,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-123test_2-0\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-123test_2-0\"},\"sa\":{\"href\":\"#cite_ref-123test_2-0\"},\"dsr\":[439,466,24,2]}'>↑</a></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[474,513,29,7]}'>Two</span></li>\n<li data-parsoid='{\"dsr\":[514,623,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[516,581,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-test123_3-0\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-test123_3-0\"},\"sa\":{\"href\":\"#cite_ref-test123_3-0\"},\"dsr\":[547,574,24,2]}'>↑</a></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[582,623,29,7]}'>Three</span></li></ol>\n\n</div>");
add("html2html", "T184912: Consistent normalization of consecutive underscores", "<p data-parsoid='{\"dsr\":[0,75,0,0]}'><sup id=\"cite_ref-x_x_1-0\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,75,45,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-x_x-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-x_x-1\"},\"sa\":{\"href\":\"#cite_note-x_x-1\"},\"dsr\":[45,69,19,2]}'>[1]</a></sup></p>\n\n<div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[77,225,32,6]}'>\n<ol data-parsoid='{\"dsr\":[110,217,0,0]}'><li data-parsoid='{\"dsr\":[110,217,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[112,173,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-x_x_1-0\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-x_x_1-0\"},\"sa\":{\"href\":\"#cite_ref-x_x_1-0\"},\"dsr\":[143,166,20,2]}'>↑</a></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[174,217,29,7]}'>example</span></li></ol>\n\n</div>");
add("html2html", "Erroneous refs", "<p data-parsoid='{\"dsr\":[0,182,0,0]}'><span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,182,58,7]}'>Cite error: Invalid <code data-parsoid='{\"stx\":\"html\",\"dsr\":[78,113,6,7]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[84,106,8,9]}'>&lt;ref></span></code> tag;\nname cannot be a simple integer. Use a descriptive title</span></p>\n\n<p data-parsoid='{\"dsr\":[184,249,0,0]}'><sup id=\"cite_ref-1\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[184,249,39,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-1\"},\"sa\":{\"href\":\"#cite_note-1\"},\"dsr\":[223,243,15,2]}'>[1]</a></sup></p>\n\n<p data-parsoid='{\"dsr\":[251,410,0,0]}'><span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\" data-parsoid='{\"stx\":\"html\",\"dsr\":[251,410,58,7]}'>Cite error: The opening <code data-parsoid='{\"stx\":\"html\",\"dsr\":[333,368,6,7]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[339,361,8,9]}'>&lt;ref></span></code> tag is malformed or has a bad name</span></p>\n\n<p data-parsoid='{\"dsr\":[412,487,0,0]}'><sup id=\"cite_ref-bar_2-0\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[412,487,45,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-bar-2\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-bar-2\"},\"sa\":{\"href\":\"#cite_note-bar-2\"},\"dsr\":[457,481,19,2]}'>[2]</a></sup></p>\n\n<p data-parsoid='{\"dsr\":[489,598,0,0]}'><sup id=\"cite_ref-blankwithnoreference_3-0\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[489,598,62,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-blankwithnoreference-3\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-blankwithnoreference-3\"},\"sa\":{\"href\":\"#cite_note-blankwithnoreference-3\"},\"dsr\":[551,592,36,2]}'>[3]</a></sup></p>\n\n<p data-parsoid='{\"dsr\":[600,744,0,0]}'><span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\" data-parsoid='{\"stx\":\"html\",\"dsr\":[600,744,58,7]}'>Cite error: Invalid parameter in <code data-parsoid='{\"stx\":\"html\",\"dsr\":[691,733,6,7]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[697,726,8,9]}'>&lt;references></span></code> tag</span></p>\n\n<div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[746,1440,32,6]}'>\n<ol data-parsoid='{\"dsr\":[779,1433,0,0]}'><li data-parsoid='{\"dsr\":[779,913,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[781,836,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-1\"},\"sa\":{\"href\":\"#cite_ref-1\"},\"dsr\":[812,829,14,2]}'>↑</a></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[837,913,29,7]}'>Also zero, but differently! (Normal ref)</span></li>\n<li data-parsoid='{\"dsr\":[914,1156,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[916,977,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-bar_2-0\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-bar_2-0\"},\"sa\":{\"href\":\"#cite_ref-bar_2-0\"},\"dsr\":[947,970,20,2]}'>↑</a></span> <span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\" data-parsoid='{\"stx\":\"html\",\"dsr\":[978,1156,58,7]}'>Cite error: Invalid <code data-parsoid='{\"stx\":\"html\",\"dsr\":[1056,1091,6,7]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[1062,1084,8,9]}'>&lt;ref></span></code> tag; no text was provided for refs named <code data-parsoid='{\"stx\":\"html\",\"dsr\":[1133,1149,6,7]}'>bar</code></span></li>\n<li data-parsoid='{\"dsr\":[1157,1433,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1159,1237,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-blankwithnoreference_3-0\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-blankwithnoreference_3-0\"},\"sa\":{\"href\":\"#cite_ref-blankwithnoreference_3-0\"},\"dsr\":[1190,1230,37,2]}'>↑</a></span> <span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\" data-parsoid='{\"stx\":\"html\",\"dsr\":[1238,1433,58,7]}'>Cite error: Invalid <code data-parsoid='{\"stx\":\"html\",\"dsr\":[1316,1351,6,7]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[1322,1344,8,9]}'>&lt;ref></span></code> tag; no text was provided for refs named <code data-parsoid='{\"stx\":\"html\",\"dsr\":[1393,1426,6,7]}'>blankwithnoreference</code></span></li></ol>\n</div>");
add("html2html", "Simple <ref>, with <references/> in group", "<p data-parsoid='{\"dsr\":[0,168,0,0]}'>Wikipedia rocks!<sup id=\"cite_ref-1\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[16,81,39,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-1\"},\"sa\":{\"href\":\"#cite_note-1\"},\"dsr\":[55,75,15,2]}'>[1]</a></sup>\nWikipedia rocks!<sup id=\"cite_ref-2\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[98,168,39,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-2\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-2\"},\"sa\":{\"href\":\"#cite_note-2\"},\"dsr\":[137,162,15,2]}'>[note 1]</a></sup></p>\n\n<div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[170,336,32,6]}'>\n<ol data-parsoid='{\"dsr\":[203,328,0,0]}'><li data-parsoid='{\"dsr\":[203,328,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[205,260,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-1\"},\"sa\":{\"href\":\"#cite_ref-1\"},\"dsr\":[236,253,14,2]}'>↑</a></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[261,328,29,7]}'>Proceeds of Rockology, vol. XXI</span></li></ol>\n\n</div>\n<div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[337,503,32,6]}'>\n<ol data-parsoid='{\"dsr\":[370,495,0,0]}'><li data-parsoid='{\"dsr\":[370,495,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[372,427,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-2\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-2\"},\"sa\":{\"href\":\"#cite_ref-2\"},\"dsr\":[403,420,14,2]}'>↑</a></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[428,495,29,7]}'>Proceeds of Rockology, vol. XXI</span></li></ol>\n\n</div>");
add("html2html", "Simple <ref>, with <references/> in group, with groupname in Chinese", "<p data-parsoid='{\"dsr\":[0,210,0,0]}'>AAA<sup id=\"cite_ref-1\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[3,70,39,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-1\"},\"sa\":{\"href\":\"#cite_note-1\"},\"dsr\":[42,64,15,2]}'>[参 1]</a></sup>BBB<sup id=\"cite_ref-2\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[73,140,39,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-2\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-2\"},\"sa\":{\"href\":\"#cite_note-2\"},\"dsr\":[112,134,15,2]}'>[注 1]</a></sup>CCC<sup id=\"cite_ref-3\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[143,210,39,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-3\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-3\"},\"sa\":{\"href\":\"#cite_note-3\"},\"dsr\":[182,204,15,2]}'>[参 2]</a></sup></p>\n\n<dl data-parsoid='{\"dsr\":[212,218,0,0]}'><dt data-parsoid='{\"dsr\":[212,218,1,0]}'>refs</dt></dl>\n\n<div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[220,460,32,6]}'>\n<ol data-parsoid='{\"dsr\":[253,452,0,0]}'><li data-parsoid='{\"dsr\":[253,352,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[255,310,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-1\"},\"sa\":{\"href\":\"#cite_ref-1\"},\"dsr\":[286,303,14,2]}'>↑</a></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[311,352,29,7]}'>ref a</span></li>\n<li data-parsoid='{\"dsr\":[353,452,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[355,410,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-3\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-3\"},\"sa\":{\"href\":\"#cite_ref-3\"},\"dsr\":[386,403,14,2]}'>↑</a></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[411,452,29,7]}'>ref c</span></li></ol>\n\n</div>\n\n<dl data-parsoid='{\"dsr\":[462,469,0,0]}'><dt data-parsoid='{\"dsr\":[462,469,1,0]}'>notes</dt></dl>\n\n<div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[471,612,32,6]}'>\n<ol data-parsoid='{\"dsr\":[504,604,0,0]}'><li data-parsoid='{\"dsr\":[504,604,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[506,561,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-2\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-2\"},\"sa\":{\"href\":\"#cite_ref-2\"},\"dsr\":[537,554,14,2]}'>↑</a></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[562,604,29,7]}'>note b</span></li></ol>\n\n</div>");
add("html2html", "<ref> defined in <references>", "<p data-parsoid='{\"dsr\":[0,75,0,0]}'><sup id=\"cite_ref-foo_1-0\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,75,45,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-foo-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-foo-1\"},\"sa\":{\"href\":\"#cite_note-foo-1\"},\"dsr\":[45,69,19,2]}'>[1]</a></sup></p>\n\n<div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[77,221,32,6]}'>\n<ol data-parsoid='{\"dsr\":[110,213,0,0]}'><li data-parsoid='{\"dsr\":[110,213,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[112,173,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-foo_1-0\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-foo_1-0\"},\"sa\":{\"href\":\"#cite_ref-foo_1-0\"},\"dsr\":[143,166,20,2]}'>↑</a></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[174,213,29,7]}'>BAR</span></li></ol>\n\n</div>");
add("html2html", "<ref> defined in <references> called with #tag", "<p data-parsoid='{\"dsr\":[0,75,0,0]}'><sup id=\"cite_ref-foo_1-0\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,75,45,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-foo-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-foo-1\"},\"sa\":{\"href\":\"#cite_note-foo-1\"},\"dsr\":[45,69,19,2]}'>[1]</a></sup></p>\n\n<div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[77,221,32,6]}'>\n<ol data-parsoid='{\"dsr\":[110,213,0,0]}'><li data-parsoid='{\"dsr\":[110,213,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[112,173,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-foo_1-0\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-foo_1-0\"},\"sa\":{\"href\":\"#cite_ref-foo_1-0\"},\"dsr\":[143,166,20,2]}'>↑</a></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[174,213,29,7]}'>BAR</span></li></ol>\n\n</div>");
add("html2html", "<ref> defined in <references> error conditions", "<p data-parsoid='{\"dsr\":[0,77,0,0]}'><sup id=\"cite_ref-foo_1-0\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,77,45,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-foo-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-foo-1\"},\"sa\":{\"href\":\"#cite_note-foo-1\"},\"dsr\":[45,71,19,2]}'>[2 1]</a></sup></p>\n\n<div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[79,361,32,6]}'>\n<ol data-parsoid='{\"dsr\":[112,354,0,0]}'><li data-parsoid='{\"dsr\":[112,354,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[114,175,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-foo_1-0\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-foo_1-0\"},\"sa\":{\"href\":\"#cite_ref-foo_1-0\"},\"dsr\":[145,168,20,2]}'>↑</a></span> <span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\" data-parsoid='{\"stx\":\"html\",\"dsr\":[176,354,58,7]}'>Cite error: Invalid <code data-parsoid='{\"stx\":\"html\",\"dsr\":[254,289,6,7]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[260,282,8,9]}'>&lt;ref></span></code> tag; no text was provided for refs named <code data-parsoid='{\"stx\":\"html\",\"dsr\":[331,347,6,7]}'>foo</code></span></li></ol>\n</div>\n<p data-parsoid='{\"dsr\":[362,972,0,0]}'><span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\" data-parsoid='{\"stx\":\"html\",\"dsr\":[362,578,58,7]}'>Cite error: <code data-parsoid='{\"stx\":\"html\",\"dsr\":[432,467,6,7]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[438,460,8,9]}'>&lt;ref></span></code> tag with name \"unused\" defined in <code data-parsoid='{\"stx\":\"html\",\"dsr\":[502,544,6,7]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[508,537,8,9]}'>&lt;references></span></code> is not used in prior text.</span>\n<span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\" data-parsoid='{\"stx\":\"html\",\"dsr\":[579,778,58,7]}'>Cite error: <code data-parsoid='{\"stx\":\"html\",\"dsr\":[649,684,6,7]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[655,677,8,9]}'>&lt;ref></span></code> tag in <code data-parsoid='{\"stx\":\"html\",\"dsr\":[692,734,6,7]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[698,727,8,9]}'>&lt;references></span></code> has conflicting group attribute \"1\".</span>\n<span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\" data-parsoid='{\"stx\":\"html\",\"dsr\":[779,972,58,7]}'>Cite error: <code data-parsoid='{\"stx\":\"html\",\"dsr\":[849,884,6,7]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[855,877,8,9]}'>&lt;ref></span></code> tag defined in <code data-parsoid='{\"stx\":\"html\",\"dsr\":[900,942,6,7]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[906,935,8,9]}'>&lt;references></span></code> has no name attribute.</span></p>\n");
add("html2html", "<ref> with custom group link with number names in Klingon", "<p data-parsoid='{\"dsr\":[0,83,0,0]}'>Wikipedia rocks!<sup id=\"cite_ref-1\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[16,83,39,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-1\"},\"sa\":{\"href\":\"#cite_note-1\"},\"dsr\":[55,76,15,2]}'>[wa'</a>]</sup></p>\n\n<div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[85,251,32,6]}'>\n<ol data-parsoid='{\"dsr\":[118,243,0,0]}'><li data-parsoid='{\"dsr\":[118,243,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[120,175,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-1\"},\"sa\":{\"href\":\"#cite_ref-1\"},\"dsr\":[151,168,14,2]}'>↑</a></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[176,243,29,7]}'>Proceeds of Rockology, vol. XXI</span></li></ol>\n\n</div>");
add("html2html", "Consecutive whitespace in custom link label message should not create empty []", "<p data-parsoid='{\"dsr\":[0,136,0,0]}'><sup id=\"cite_ref-1\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,67,39,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-1\"},\"sa\":{\"href\":\"#cite_note-1\"},\"dsr\":[39,60,15,2]}'>[wa'</a>]</sup>\n<sup id=\"cite_ref-2\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[68,136,39,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-2\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-2\"},\"sa\":{\"href\":\"#cite_note-2\"},\"dsr\":[107,129,15,2]}'>[cha'</a>]</sup></p>\n\n<div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[138,374,32,6]}'>\n<ol data-parsoid='{\"dsr\":[171,366,0,0]}'><li data-parsoid='{\"dsr\":[171,268,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[173,228,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-1\"},\"sa\":{\"href\":\"#cite_ref-1\"},\"dsr\":[204,221,14,2]}'>↑</a></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[229,268,29,7]}'>1st</span></li>\n<li data-parsoid='{\"dsr\":[269,366,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[271,326,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-2\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-2\"},\"sa\":{\"href\":\"#cite_ref-2\"},\"dsr\":[302,319,14,2]}'>↑</a></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[327,366,29,7]}'>2nd</span></li></ol>\n\n</div>");
add("html2html", "Bug 31374 regression check: nested strip items", "<p data-parsoid='{\"dsr\":[0,70,0,0]}'><sup id=\"cite_ref-2\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,70,39,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-2\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-2\"},\"sa\":{\"href\":\"#cite_note-2\"},\"dsr\":[39,64,15,2]}'>[Note 1]</a></sup></p>\n\n<div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[72,276,32,6]}'>\n<ol data-parsoid='{\"dsr\":[105,268,0,0]}'><li data-parsoid='{\"dsr\":[105,268,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[107,162,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-2\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-2\"},\"sa\":{\"href\":\"#cite_ref-2\"},\"dsr\":[138,155,14,2]}'>↑</a></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[163,268,29,7]}'>note<sup id=\"cite_ref-1\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[196,261,39,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-1\"},\"sa\":{\"href\":\"#cite_note-1\"},\"dsr\":[235,255,15,2]}'>[1]</a></sup></span></li></ol>\n\n</div>\n<div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[277,421,32,6]}'>\n<ol data-parsoid='{\"dsr\":[310,413,0,0]}'><li data-parsoid='{\"dsr\":[310,413,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[312,367,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-1\"},\"sa\":{\"href\":\"#cite_ref-1\"},\"dsr\":[343,360,14,2]}'>↑</a></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[368,413,29,7]}'>reference</span></li></ol>\n\n</div>");
add("html2html", "Bug 13073 regression check: wrapped <references>", "<p data-parsoid='{\"dsr\":[0,65,0,0]}'><sup id=\"cite_ref-1\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,65,39,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-1\"},\"sa\":{\"href\":\"#cite_note-1\"},\"dsr\":[39,59,15,2]}'>[1]</a></sup></p>\n\n<div data-parsoid='{\"stx\":\"html\",\"dsr\":[67,217,5,6]}'><div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[72,211,32,6]}'>\n<ol data-parsoid='{\"dsr\":[105,203,0,0]}'><li data-parsoid='{\"dsr\":[105,203,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[107,162,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-1\"},\"sa\":{\"href\":\"#cite_ref-1\"},\"dsr\":[138,155,14,2]}'>↑</a></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[163,203,29,7]}'> foo</span></li></ol>\n\n</div></div>");
add("html2html", "<ref> with a non-empty name parameter and no content.", "<p data-parsoid='{\"dsr\":[0,81,0,0]}'>Bla.<sup id=\"cite_ref-void_1-0\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[4,81,46,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-void-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-void-1\"},\"sa\":{\"href\":\"#cite_note-void-1\"},\"dsr\":[50,75,20,2]}'>[1]</a></sup></p><div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[81,365,32,6]}'>\n<ol data-parsoid='{\"dsr\":[114,358,0,0]}'><li data-parsoid='{\"dsr\":[114,358,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[116,178,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-void_1-0\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-void_1-0\"},\"sa\":{\"href\":\"#cite_ref-void_1-0\"},\"dsr\":[147,171,21,2]}'>↑</a></span> <span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\" data-parsoid='{\"stx\":\"html\",\"dsr\":[179,358,58,7]}'>Cite error: Invalid <code data-parsoid='{\"stx\":\"html\",\"dsr\":[257,292,6,7]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[263,285,8,9]}'>&lt;ref></span></code> tag; no text was provided for refs named <code data-parsoid='{\"stx\":\"html\",\"dsr\":[334,351,6,7]}'>void</code></span></li></ol>\n</div>");
add("html2html", "<ref>s with the follow parameter", "<p data-parsoid='{\"dsr\":[0,96,0,0]}'>Page one.<sup id=\"cite_ref-beginning_1-0\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[9,96,51,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-beginning-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-beginning-1\"},\"sa\":{\"href\":\"#cite_note-beginning-1\"},\"dsr\":[60,90,25,2]}'>[1]</a></sup></p>\n\n<p data-parsoid='{\"dsr\":[98,107,0,0]}'>Page two.</p>\n\n<h2 id=\"References\" data-parsoid='{\"dsr\":[109,125,2,2]}'>References</h2>\n<div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[126,325,32,6]}'>\n<ol data-parsoid='{\"dsr\":[159,317,0,0]}'><li data-parsoid='{\"dsr\":[159,317,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[161,228,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-beginning_1-0\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-beginning_1-0\"},\"sa\":{\"href\":\"#cite_ref-beginning_1-0\"},\"dsr\":[192,221,26,2]}'>↑</a></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[229,317,29,7]}'>First page footnote text. Second page footnote text.</span></li></ol>\n\n</div>");
add("html2html", "Multiple definition (outside <references/>)", "<p data-parsoid='{\"dsr\":[0,143,0,0]}'><sup id=\"cite_ref-a_1-0\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,71,43,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-a-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-a-1\"},\"sa\":{\"href\":\"#cite_note-a-1\"},\"dsr\":[43,65,17,2]}'>[1]</a></sup>\n<sup id=\"cite_ref-a_1-1\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[72,143,43,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-a-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-a-1\"},\"sa\":{\"href\":\"#cite_note-a-1\"},\"dsr\":[115,137,17,2]}'>[1]</a></sup></p>\n\n<div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[145,518,32,6]}'>\n<ol data-parsoid='{\"dsr\":[178,510,0,0]}'><li data-parsoid='{\"dsr\":[178,510,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[180,289,31,7]}'>↑ <sup data-parsoid='{\"stx\":\"html\",\"dsr\":[213,247,5,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-a_1-0\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-a_1-0\"},\"sa\":{\"href\":\"#cite_ref-a_1-0\"},\"dsr\":[218,241,18,2]}'>1.0</a></sup> <sup data-parsoid='{\"stx\":\"html\",\"dsr\":[248,282,5,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-a_1-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-a_1-1\"},\"sa\":{\"href\":\"#cite_ref-a_1-1\"},\"dsr\":[253,276,18,2]}'>1.1</a></sup></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[290,510,29,7]}'>abc <span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\" data-parsoid='{\"stx\":\"html\",\"dsr\":[323,503,58,7]}'>Cite error: Invalid <code data-parsoid='{\"stx\":\"html\",\"dsr\":[401,436,6,7]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[407,429,8,9]}'>&lt;ref></span></code> tag; name \"a\" defined multiple times with different content</span></span></li></ol>\n\n</div>");
add("html2html", "Multiple definition (inside <references/>)", "<p data-parsoid='{\"dsr\":[0,71,0,0]}'><sup id=\"cite_ref-a_1-0\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,71,43,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-a-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-a-1\"},\"sa\":{\"href\":\"#cite_note-a-1\"},\"dsr\":[43,65,17,2]}'>[1]</a></sup></p>\n\n<div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[73,396,32,6]}'>\n<ol data-parsoid='{\"dsr\":[106,388,0,0]}'><li data-parsoid='{\"dsr\":[106,388,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[108,167,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-a_1-0\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-a_1-0\"},\"sa\":{\"href\":\"#cite_ref-a_1-0\"},\"dsr\":[139,160,18,2]}'>↑</a></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[168,388,29,7]}'>abc <span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\" data-parsoid='{\"stx\":\"html\",\"dsr\":[201,381,58,7]}'>Cite error: Invalid <code data-parsoid='{\"stx\":\"html\",\"dsr\":[279,314,6,7]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[285,307,8,9]}'>&lt;ref></span></code> tag; name \"a\" defined multiple times with different content</span></span></li></ol>\n\n</div>");
add("html2html", "Multiple definition (mixed outside/inside)", "<p data-parsoid='{\"dsr\":[0,71,0,0]}'><sup id=\"cite_ref-a_1-0\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,71,43,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-a-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-a-1\"},\"sa\":{\"href\":\"#cite_note-a-1\"},\"dsr\":[43,65,17,2]}'>[1]</a></sup></p>\n\n<div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[73,396,32,6]}'>\n<ol data-parsoid='{\"dsr\":[106,388,0,0]}'><li data-parsoid='{\"dsr\":[106,388,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[108,167,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-a_1-0\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-a_1-0\"},\"sa\":{\"href\":\"#cite_ref-a_1-0\"},\"dsr\":[139,160,18,2]}'>↑</a></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[168,388,29,7]}'>abc <span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\" data-parsoid='{\"stx\":\"html\",\"dsr\":[201,381,58,7]}'>Cite error: Invalid <code data-parsoid='{\"stx\":\"html\",\"dsr\":[279,314,6,7]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[285,307,8,9]}'>&lt;ref></span></code> tag; name \"a\" defined multiple times with different content</span></span></li></ol>\n\n</div>");
add("html2html", "Multiple definition (inside {{#tag:references}})", "<p data-parsoid='{\"dsr\":[0,71,0,0]}'><sup id=\"cite_ref-a_1-0\" class=\"reference\" data-parsoid='{\"stx\":\"html\",\"dsr\":[0,71,43,6]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_note-a-1\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_note-a-1\"},\"sa\":{\"href\":\"#cite_note-a-1\"},\"dsr\":[43,65,17,2]}'>[1]</a></sup></p>\n\n<div class=\"mw-references-wrap\" data-parsoid='{\"stx\":\"html\",\"dsr\":[73,396,32,6]}'>\n<ol data-parsoid='{\"dsr\":[106,388,0,0]}'><li data-parsoid='{\"dsr\":[106,388,1,0]}'><span class=\"mw-cite-backlink\" data-parsoid='{\"stx\":\"html\",\"dsr\":[108,167,31,7]}'><a rel=\"mw:WikiLink\" href=\"./Parser_test#cite_ref-a_1-0\" data-parsoid='{\"stx\":\"piped\",\"a\":{\"href\":\"./Parser_test#cite_ref-a_1-0\"},\"sa\":{\"href\":\"#cite_ref-a_1-0\"},\"dsr\":[139,160,18,2]}'>↑</a></span> <span class=\"reference-text\" data-parsoid='{\"stx\":\"html\",\"dsr\":[168,388,29,7]}'>abc <span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\" data-parsoid='{\"stx\":\"html\",\"dsr\":[201,381,58,7]}'>Cite error: Invalid <code data-parsoid='{\"stx\":\"html\",\"dsr\":[279,314,6,7]}'><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[285,307,8,9]}'>&lt;ref></span></code> tag; name \"a\" defined multiple times with different content</span></span></li></ol>\n\n</div>");
add("html2html", "Ref: 8. transclusion wikitext has lower precedence", "<p data-parsoid='{\"dsr\":[0,65,0,0]}'>A <sup about=\"#mwt7\" class=\"mw-ref\" id=\"cite_ref-1\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[2,42,5,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{},\"body\":{\"id\":\"mw-reference-text-cite_note-1\"}}'><a href=\"./Parser_test#cite_note-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup><span typeof=\"mw:Nowiki\" data-parsoid='{\"dsr\":[42,65,8,9]}'> B C}}</span></p>\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt10\" data-parsoid='{\"dsr\":[66,80,14,0]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'><li about=\"#cite_note-1\" id=\"cite_note-1\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-1\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-1\" class=\"mw-reference-text\" data-parsoid=\"{}\"> foo {{echo|</span></li></ol>");
add("html2html", "References: 9. Generate missing references list at the end", "<p data-parsoid='{\"dsr\":[0,52,0,0]}'>A <sup about=\"#mwt4\" class=\"mw-ref\" id=\"cite_ref-1\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[2,16,5,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{},\"body\":{\"id\":\"mw-reference-text-cite_note-1\"}}'><a href=\"./Parser_test#cite_note-1\" style=\"counter-reset: mw-Ref 1;\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[1]</span></a></sup> B <sup about=\"#mwt6\" class=\"mw-ref\" id=\"cite_ref-2\" rel=\"dc:references\" typeof=\"mw:Extension/ref\" data-parsoid='{\"dsr\":[19,52,24,6]}' data-mw='{\"name\":\"ref\",\"attrs\":{\"group\":\"inexistent\"},\"body\":{\"id\":\"mw-reference-text-cite_note-2\"}}'><a href=\"./Parser_test#cite_note-2\" style=\"counter-reset: mw-Ref 1;\" data-mw-group=\"inexistent\" data-parsoid=\"{}\"><span class=\"mw-reflink-text\" data-parsoid=\"{}\">[inexistent 1]</span></a></sup></p>\n<ol class=\"mw-references references\" typeof=\"mw:Extension/references\" about=\"#mwt9\" data-parsoid='{\"dsr\":[53,67,14,0]}' data-mw='{\"name\":\"references\",\"attrs\":{}}'><li about=\"#cite_note-1\" id=\"cite_note-1\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-1\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-1\" class=\"mw-reference-text\" data-parsoid=\"{}\">foo</span></li></ol>\n<ol class=\"mw-references references\" data-mw-group=\"inexistent\" typeof=\"mw:Extension/references\" about=\"#mwt12\" data-parsoid='{\"group\":\"inexistent\",\"dsr\":[68,101,33,0]}' data-mw='{\"name\":\"references\",\"attrs\":{\"group\":\"inexistent\"}}'><li about=\"#cite_note-2\" id=\"cite_note-2\" data-parsoid=\"{}\"><a href=\"./Parser_test#cite_ref-2\" data-mw-group=\"inexistent\" rel=\"mw:referencedBy\" data-parsoid=\"{}\"><span class=\"mw-linkback-text\" data-parsoid=\"{}\">↑ </span></a> <span id=\"mw-reference-text-cite_note-2\" class=\"mw-reference-text\" data-parsoid=\"{}\">bar</span></li></ol>");


// Blacklist for html2wt
add("html2wt", "Simple <ref>, no <references/>", "Wikipedia rocks!<sup id=\"cite_ref-1\" class=\"reference\">[[#cite_note-1|[1]]]</sup><div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">[[#cite_ref-1|↑]]</span> <span class=\"reference-text\">Proceeds of Rockology, vol. XXI</span>\n\n</div>");
add("html2wt", "Simple <ref>, with <references/>", "Wikipedia rocks!<sup id=\"cite_ref-1\" class=\"reference\">[[#cite_note-1|[1]]]</sup>\n\n<div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">[[#cite_ref-1|↑]]</span> <span class=\"reference-text\">Proceeds of Rockology, vol. XXI</span>\n\n</div>");
add("html2wt", "<ref> with a simple template", "Templating<sup id=\"cite_ref-1\" class=\"reference\">[[#cite_note-1|[1]]]</sup>\n\n<div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">[[#cite_ref-1|↑]]</span> <span class=\"reference-text\">A ''simple'' template.</span>\n\n</div>");
add("html2wt", "<ref> with a <nowiki>", "Templating<sup id=\"cite_ref-1\" class=\"reference\">[[#cite_note-1|[1]]]</sup>\n\n<div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">[[#cite_ref-1|↑]]</span> <span class=\"reference-text\"><nowiki>{{simple template}}</nowiki></span>\n\n</div>");
add("html2wt", "<ref> in a <nowiki>", "Templating<nowiki><ref>{{simple template}}</ref></nowiki>\n\n\n");
add("html2wt", "<ref> in a <!--comment-->", "Templating\n\n\n");
add("html2wt", "<!--comment--> in a <ref> (bug 5384)", "Templating<sup id=\"cite_ref-1\" class=\"reference\">[[#cite_note-1|[1]]]</sup>\n\n<div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">[[#cite_ref-1|↑]]</span> <span class=\"reference-text\">Text</span>\n\n</div>");
add("html2wt", "{{REVISIONID}} on page with <ref> (bug 6299)", "1337<sup id=\"cite_ref-1\" class=\"reference\">[[#cite_note-1|[1]]]</sup><div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">[[#cite_ref-1|↑]]</span> <span class=\"reference-text\">elite</span>\n\n</div>");
add("html2wt", "{{REVISIONID}} on page without <ref> (bug 6299 sanity check)", "1337\n");
add("html2wt", "Ref with content followed by blank ref", "<sup id=\"cite_ref-blank_1-0\" class=\"reference\">[[#cite_note-blank-1|[1]]]</sup>\n\n<sup id=\"cite_ref-blank_1-1\" class=\"reference\">[[#cite_note-blank-1|[1]]]</sup>\n\n<div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">↑ <sup>[[#cite_ref-blank_1-0|1.0]]</sup> <sup>[[#cite_ref-blank_1-1|1.1]]</sup></span> <span class=\"reference-text\">content</span>\n\n</div>");
add("html2wt", "Blank ref followed by ref with content", "<sup id=\"cite_ref-blank_1-0\" class=\"reference\">[[#cite_note-blank-1|[1]]]</sup>\n\n<sup id=\"cite_ref-blank_1-1\" class=\"reference\">[[#cite_note-blank-1|[1]]]</sup>\n\n<div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">↑ <sup>[[#cite_ref-blank_1-0|1.0]]</sup> <sup>[[#cite_ref-blank_1-1|1.1]]</sup></span> <span class=\"reference-text\">content</span>\n\n</div>");
add("html2wt", "Regression: non-blank ref \"0\" followed by ref with content", "<sup id=\"cite_ref-blank_1-0\" class=\"reference\">[[#cite_note-blank-1|[1]]]</sup>\n\n<sup id=\"cite_ref-blank_1-1\" class=\"reference\">[[#cite_note-blank-1|[1]]]</sup>\n\n<div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">↑ <sup>[[#cite_ref-blank_1-0|1.0]]</sup> <sup>[[#cite_ref-blank_1-1|1.1]]</sup></span> <span class=\"reference-text\">0 <span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\">Cite error: Invalid <code><nowiki><ref></nowiki></code> tag; name \"blank\" defined multiple times with different content</span></span>\n\n</div>");
add("html2wt", "Regression sanity check: non-blank ref \"1\" followed by ref with content", "<sup id=\"cite_ref-blank_1-0\" class=\"reference\">[[#cite_note-blank-1|[1]]]</sup>\n\n<sup id=\"cite_ref-blank_1-1\" class=\"reference\">[[#cite_note-blank-1|[1]]]</sup>\n\n<div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">↑ <sup>[[#cite_ref-blank_1-0|1.0]]</sup> <sup>[[#cite_ref-blank_1-1|1.1]]</sup></span> <span class=\"reference-text\">1 <span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\">Cite error: Invalid <code><nowiki><ref></nowiki></code> tag; name \"blank\" defined multiple times with different content</span></span>\n\n</div>");
add("html2wt", "Ref names containing a number", "<sup id=\"cite_ref-test123test_1-0\" class=\"reference\">[[#cite_note-test123test-1|[1]]]</sup>\n<sup id=\"cite_ref-123test_2-0\" class=\"reference\">[[#cite_note-123test-2|[2]]]</sup>\n<sup id=\"cite_ref-test123_3-0\" class=\"reference\">[[#cite_note-test123-3|[3]]]</sup>\n\n<div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">[[#cite_ref-test123test_1-0|↑]]</span> <span class=\"reference-text\">One</span>\n# <span class=\"mw-cite-backlink\">[[#cite_ref-123test_2-0|↑]]</span> <span class=\"reference-text\">Two</span>\n# <span class=\"mw-cite-backlink\">[[#cite_ref-test123_3-0|↑]]</span> <span class=\"reference-text\">Three</span>\n\n</div>");
add("html2wt", "T184912: Consistent normalization of consecutive underscores", "<sup id=\"cite_ref-x_x_1-0\" class=\"reference\">[[#cite_note-x_x-1|[1]]]</sup>\n\n<div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">[[#cite_ref-x_x_1-0|↑]]</span> <span class=\"reference-text\">example</span>\n\n</div>");
add("html2wt", "Erroneous refs", "<span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\">Cite error: Invalid <code><nowiki><ref></nowiki></code> tag;\nname cannot be a simple integer. Use a descriptive title</span>\n\n<sup id=\"cite_ref-1\" class=\"reference\">[[#cite_note-1|[1]]]</sup>\n\n<span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\">Cite error: The opening <code><nowiki><ref></nowiki></code> tag is malformed or has a bad name</span>\n\n<sup id=\"cite_ref-bar_2-0\" class=\"reference\">[[#cite_note-bar-2|[2]]]</sup>\n\n<sup id=\"cite_ref-blankwithnoreference_3-0\" class=\"reference\">[[#cite_note-blankwithnoreference-3|[3]]]</sup>\n\n<span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\">Cite error: Invalid parameter in <code><nowiki><references></nowiki></code> tag</span>\n\n<div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">[[#cite_ref-1|↑]]</span> <span class=\"reference-text\">Also zero, but differently! (Normal ref)</span>\n# <span class=\"mw-cite-backlink\">[[#cite_ref-bar_2-0|↑]]</span> <span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\">Cite error: Invalid <code><nowiki><ref></nowiki></code> tag; no text was provided for refs named <code>bar</code></span>\n# <span class=\"mw-cite-backlink\">[[#cite_ref-blankwithnoreference_3-0|↑]]</span> <span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\">Cite error: Invalid <code><nowiki><ref></nowiki></code> tag; no text was provided for refs named <code>blankwithnoreference</code></span>\n</div>");
add("html2wt", "Can't have name=\"…\" and follow=\"…\" the same time", "<span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\">Cite error: Invalid <code><nowiki><ref></nowiki></code> tag;\ninvalid names, e.g. too many</span>\n");
add("html2wt", "Conflicting name=\"…\" and follow=\"…\" still invalid when a third parameter is present", "<span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\">Cite error: Invalid <code><nowiki><ref></nowiki></code> tag;\ninvalid names, e.g. too many</span>\n");
add("html2wt", "Valid parameters become invalid when a third is present", "<span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\">Cite error: Invalid <code><nowiki><ref></nowiki></code> tag;\ninvalid names, e.g. too many</span>\n");
add("html2wt", "Simple <ref>, with <references/> in group", "Wikipedia rocks!<sup id=\"cite_ref-1\" class=\"reference\">[[#cite_note-1|[1]]]</sup>\nWikipedia rocks!<sup id=\"cite_ref-2\" class=\"reference\">[[#cite_note-2|[note 1]]]</sup>\n\n<div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">[[#cite_ref-1|↑]]</span> <span class=\"reference-text\">Proceeds of Rockology, vol. XXI</span>\n\n</div>\n<div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">[[#cite_ref-2|↑]]</span> <span class=\"reference-text\">Proceeds of Rockology, vol. XXI</span>\n\n</div>");
add("html2wt", "Simple <ref>, with <references/> in group, with groupname in Chinese", "AAA<sup id=\"cite_ref-1\" class=\"reference\">[[#cite_note-1|[参 1]]]</sup>BBB<sup id=\"cite_ref-2\" class=\"reference\">[[#cite_note-2|[注 1]]]</sup>CCC<sup id=\"cite_ref-3\" class=\"reference\">[[#cite_note-3|[参 2]]]</sup>\n\n; refs\n\n<div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">[[#cite_ref-1|↑]]</span> <span class=\"reference-text\">ref a</span>\n# <span class=\"mw-cite-backlink\">[[#cite_ref-3|↑]]</span> <span class=\"reference-text\">ref c</span>\n\n</div>\n\n; notes\n\n<div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">[[#cite_ref-2|↑]]</span> <span class=\"reference-text\">note b</span>\n\n</div>");
add("html2wt", "<ref> defined in <references>", "<sup id=\"cite_ref-foo_1-0\" class=\"reference\">[[#cite_note-foo-1|[1]]]</sup>\n\n<div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">[[#cite_ref-foo_1-0|↑]]</span> <span class=\"reference-text\">BAR</span>\n\n</div>");
add("html2wt", "<ref> defined in <references> called with #tag", "<sup id=\"cite_ref-foo_1-0\" class=\"reference\">[[#cite_note-foo-1|[1]]]</sup>\n\n<div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">[[#cite_ref-foo_1-0|↑]]</span> <span class=\"reference-text\">BAR</span>\n\n</div>");
add("html2wt", "<ref> defined in <references> error conditions", "<sup id=\"cite_ref-foo_1-0\" class=\"reference\">[[#cite_note-foo-1|[2 1]]]</sup>\n\n<div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">[[#cite_ref-foo_1-0|↑]]</span> <span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\">Cite error: Invalid <code><nowiki><ref></nowiki></code> tag; no text was provided for refs named <code>foo</code></span>\n</div>\n<span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\">Cite error: <code><nowiki><ref></nowiki></code> tag with name \"unused\" defined in <code><nowiki><references></nowiki></code> is not used in prior text.</span>\n<span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\">Cite error: <code><nowiki><ref></nowiki></code> tag in <code><nowiki><references></nowiki></code> has conflicting group attribute \"1\".</span>\n<span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\">Cite error: <code><nowiki><ref></nowiki></code> tag defined in <code><nowiki><references></nowiki></code> has no name attribute.</span>\n");
add("html2wt", "<ref> with custom group link with number names in Klingon", "Wikipedia rocks!<sup id=\"cite_ref-1\" class=\"reference\">[[#cite_note-1|[wa']]]</sup>\n\n<div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">[[#cite_ref-1|↑]]</span> <span class=\"reference-text\">Proceeds of Rockology, vol. XXI</span>\n\n</div>");
add("html2wt", "Consecutive whitespace in custom link label message should not create empty []", "<sup id=\"cite_ref-1\" class=\"reference\">[[#cite_note-1|[wa']]]</sup>\n<sup id=\"cite_ref-2\" class=\"reference\">[[#cite_note-2|[cha']]]</sup>\n\n<div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">[[#cite_ref-1|↑]]</span> <span class=\"reference-text\">1st</span>\n# <span class=\"mw-cite-backlink\">[[#cite_ref-2|↑]]</span> <span class=\"reference-text\">2nd</span>\n\n</div>");
add("html2wt", "Bug 31374 regression check: nested strip items", "<sup id=\"cite_ref-2\" class=\"reference\">[[#cite_note-2|[Note 1]]]</sup>\n\n<div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">[[#cite_ref-2|↑]]</span> <span class=\"reference-text\">note<sup id=\"cite_ref-1\" class=\"reference\">[[#cite_note-1|[1]]]</sup></span>\n\n</div>\n<div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">[[#cite_ref-1|↑]]</span> <span class=\"reference-text\">reference</span>\n\n</div>");
add("html2wt", "Bug 13073 regression check: wrapped <references>", "<sup id=\"cite_ref-1\" class=\"reference\">[[#cite_note-1|[1]]]</sup>\n\n<div><div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">[[#cite_ref-1|↑]]</span> <span class=\"reference-text\"> foo</span>\n\n</div></div>");
add("html2wt", "<ref> with no name and no content.", "Bla.<span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\">Cite error: Invalid <code><nowiki><ref></nowiki></code> tag;\nrefs with no name must have content</span>\n");
add("html2wt", "<ref> with an empty-string name parameter and no content.", "Bla.<span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\">Cite error: Invalid <code><nowiki><ref></nowiki></code> tag;\nrefs with no name must have content</span>\n");
add("html2wt", "<ref> with a non-empty name parameter and no content.", "Bla.<sup id=\"cite_ref-void_1-0\" class=\"reference\">[[#cite_note-void-1|[1]]]</sup><div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">[[#cite_ref-void_1-0|↑]]</span> <span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\">Cite error: Invalid <code><nowiki><ref></nowiki></code> tag; no text was provided for refs named <code>void</code></span>\n</div>");
add("html2wt", "<ref>s with the follow parameter", "Page one.<sup id=\"cite_ref-beginning_1-0\" class=\"reference\">[[#cite_note-beginning-1|[1]]]</sup>\n\nPage two.\n\n== References ==\n<div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">[[#cite_ref-beginning_1-0|↑]]</span> <span class=\"reference-text\">First page footnote text. Second page footnote text.</span>\n\n</div>");
add("html2wt", "<ref> with both name and follow parameters - invalid", "Page one.<span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\">Cite error: Invalid <code><nowiki><ref></nowiki></code> tag;\ninvalid names, e.g. too many</span>\n");
add("html2wt", "Multiple definition (outside <references/>)", "<sup id=\"cite_ref-a_1-0\" class=\"reference\">[[#cite_note-a-1|[1]]]</sup>\n<sup id=\"cite_ref-a_1-1\" class=\"reference\">[[#cite_note-a-1|[1]]]</sup>\n\n<div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">↑ <sup>[[#cite_ref-a_1-0|1.0]]</sup> <sup>[[#cite_ref-a_1-1|1.1]]</sup></span> <span class=\"reference-text\">abc <span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\">Cite error: Invalid <code><nowiki><ref></nowiki></code> tag; name \"a\" defined multiple times with different content</span></span>\n\n</div>");
add("html2wt", "Multiple definition (inside <references/>)", "<sup id=\"cite_ref-a_1-0\" class=\"reference\">[[#cite_note-a-1|[1]]]</sup>\n\n<div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">[[#cite_ref-a_1-0|↑]]</span> <span class=\"reference-text\">abc <span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\">Cite error: Invalid <code><nowiki><ref></nowiki></code> tag; name \"a\" defined multiple times with different content</span></span>\n\n</div>");
add("html2wt", "Multiple definition (mixed outside/inside)", "<sup id=\"cite_ref-a_1-0\" class=\"reference\">[[#cite_note-a-1|[1]]]</sup>\n\n<div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">[[#cite_ref-a_1-0|↑]]</span> <span class=\"reference-text\">abc <span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\">Cite error: Invalid <code><nowiki><ref></nowiki></code> tag; name \"a\" defined multiple times with different content</span></span>\n\n</div>");
add("html2wt", "Multiple definition (inside {{#tag:references}})", "<sup id=\"cite_ref-a_1-0\" class=\"reference\">[[#cite_note-a-1|[1]]]</sup>\n\n<div class=\"mw-references-wrap\">\n# <span class=\"mw-cite-backlink\">[[#cite_ref-a_1-0|↑]]</span> <span class=\"reference-text\">abc <span class=\"error mw-ext-cite-error\" lang=\"en\" dir=\"ltr\">Cite error: Invalid <code><nowiki><ref></nowiki></code> tag; name \"a\" defined multiple times with different content</span></span>\n\n</div>");
add("html2wt", "Ref: 3. spaces in ref-names should be ignored", "A <ref name=\"x\">foo</ref>\nB <ref name=\"x\" />\nC <ref name=\"x\" />\n<references />");
add("html2wt", "Ref: 5. body should accept generic wikitext", "A <ref> This is a '''[[bolded link]]''' and this is a {{echo|transclusion}}\n</ref>\n\n<references />");
add("html2wt", "Ref: 8. transclusion wikitext has lower precedence", "A <ref><nowiki> foo {{echo|</nowiki></ref><nowiki> B C}}</nowiki>\n<references />");
add("html2wt", "Ref: 9. unclosed comments should not leak out of ref-body", "A <ref> foo <!----></ref> B C\n<references />");
add("html2wt", "References: 9. Generate missing references list at the end", "A <ref>foo</ref> B <ref group=\"inexistent\">bar</ref>\n<references />\n<references group=\"inexistent\" />");


// Blacklist for selser
add("selser", "Simple <ref>, no <references/> [2,0,0]", "1618kiq\n\nWikipedia rocks!<ref>Proceeds of Rockology, vol. XXI</ref>");
add("selser", "Simple <ref>, no <references/> [3,0,0]", "\n");
add("selser", "Simple <ref>, no <references/> [[3,0],0,0]", "<ref>Proceeds of Rockology, vol. XXI</ref>\n");
add("selser", "Simple <ref>, no <references/> [[4,0],2,0]", "vkomsc<ref>Proceeds of Rockology, vol. XXI</ref>\n\nx9946h\n");
add("selser", "Simple <ref>, no <references/> [4,4,0]", "1xru5nr\n\n17y1u9b");
add("selser", "Simple <ref>, no <references/> [4,0,0]", "11giwoh\n");
add("selser", "Simple <ref>, no <references/> [3,4,0]", "1um7ibt");
add("selser", "Simple <ref>, no <references/> [[2,0],0,0]", "10ki8pmWikipedia rocks!<ref>Proceeds of Rockology, vol. XXI</ref>\n");
add("selser", "Simple <ref>, no <references/> [3,2,0]", "163orz7\n");
add("selser", "Simple <ref>, no <references/> [1,2,0]", "Wikipedia rocks!<ref>Proceeds of Rockology, vol. XXI</ref>\n\n18t4cte\n");
add("selser", "Simple <ref>, no <references/> [[4,0],4,0]", "4q5ua9<ref>Proceeds of Rockology, vol. XXI</ref>\n\n1e0uxzv");
add("selser", "Simple <ref>, no <references/> [1,4,0]", "Wikipedia rocks!<ref>Proceeds of Rockology, vol. XXI</ref>\n\nbzza9r");
add("selser", "Simple <ref>, no <references/> [4,2,0]", "1s4gyw0\n\n1ixbzjf\n");
add("selser", "Simple <ref>, no <references/> [0,4,0]", "Wikipedia rocks!<ref>Proceeds of Rockology, vol. XXI</ref>\n\n1rdol44");
add("selser", "Simple <ref>, no <references/> [[4,0],0,0]", "1l3ibd<ref>Proceeds of Rockology, vol. XXI</ref>\n");
add("selser", "Simple <ref>, no <references/> [0,3,0]", "Wikipedia rocks!<ref>Proceeds of Rockology, vol. XXI</ref>");
add("selser", "Simple <ref>, no <references/> [[3,0],3,0]", "<ref>Proceeds of Rockology, vol. XXI</ref>");
add("selser", "Simple <ref>, no <references/> [1,0,0]", "Wikipedia rocks!<ref>Proceeds of Rockology, vol. XXI</ref>\n");
add("selser", "Simple <ref>, no <references/> [0,2,0]", "Wikipedia rocks!<ref>Proceeds of Rockology, vol. XXI</ref>\n\nhlajmc\n");
add("selser", "<ref> with a simple template [[4,0],0,0]", "lb3xqw<ref>{{simple template}}</ref>\n\n<references/>");
add("selser", "<ref> with a simple template [1,0,0]", "Templating<ref>{{simple template}}</ref>\n\n<references/>");
add("selser", "<ref> with a simple template [3,4,0]", "13kdddv<references/>");
add("selser", "<ref> with a simple template [3,0,0]", "\n<references/>");
add("selser", "<ref> with a simple template [4,0,0]", "1x2sbvn\n\n<references/>");
add("selser", "<ref> with a simple template [[2,0],0,0]", "8rkf5iTemplating<ref>{{simple template}}</ref>\n\n<references/>");
add("selser", "<ref> with a simple template [1,4,0]", "Templating<ref>{{simple template}}</ref>\n\n1arywk<references/>");
add("selser", "<ref> with a simple template [[2,0],4,0]", "1ylwnw5Templating<ref>{{simple template}}</ref>\n\n1dilcka<references/>");
add("selser", "<ref> with a simple template [[3,0],0,0]", "<ref>{{simple template}}</ref>\n\n<references/>");
add("selser", "<ref> with a simple template [2,0,0]", "lqtr8f\n\nTemplating<ref>{{simple template}}</ref>\n\n<references/>");
add("selser", "<ref> with a simple template [[4,0],4,0]", "lvn73v<ref>{{simple template}}</ref>\n\n13g5xj1<references/>");
add("selser", "<ref> with a simple template [2,4,0]", "lmnok8\n\nTemplating<ref>{{simple template}}</ref>\n\n11ciaoq<references/>");
add("selser", "<ref> with a simple template [[3,0],3,0]", "<ref>{{simple template}}</ref><references/>");
add("selser", "<ref> with a simple template [0,3,0]", "Templating<ref>{{simple template}}</ref><references/>");
add("selser", "<ref> with a simple template [0,2,0]", "Templating<ref>{{simple template}}</ref>\n\n1467oep\n\n<references/>");
add("selser", "<ref> with a simple template [4,3,0]", "11zr9xh<references/>");
add("selser", "<ref> with a simple template [4,4,0]", "1saychx\n\n1k2o19k<references/>");
add("selser", "<ref> with a simple template [1,2,0]", "Templating<ref>{{simple template}}</ref>\n\n6zmw0a\n\n<references/>");
add("selser", "<ref> with a simple template [3,2,0]", "16thjyc\n\n<references/>");
add("selser", "{{REVISIONID}} on page with <ref> (bug 6299) [0,3,0]", "{{REVISIONID}}<ref>elite</ref>");
add("selser", "{{REVISIONID}} on page with <ref> (bug 6299) [1,2,0]", "{{REVISIONID}}<ref>elite</ref>\n\n2w1ylf\n");
add("selser", "{{REVISIONID}} on page with <ref> (bug 6299) [2,2,0]", "1sqvfrd\n\n{{REVISIONID}}<ref>elite</ref>\n\nmuq1xa\n");
add("selser", "{{REVISIONID}} on page with <ref> (bug 6299) [3,0,0]", "\n");
add("selser", "{{REVISIONID}} on page with <ref> (bug 6299) [2,0,0]", "1sc27yk\n\n{{REVISIONID}}<ref>elite</ref>");
add("selser", "{{REVISIONID}} on page with <ref> (bug 6299) [0,4,0]", "{{REVISIONID}}<ref>elite</ref>\n\n6820q5");
add("selser", "{{REVISIONID}} on page with <ref> (bug 6299) [4,3,0]", "o1rvrs");
add("selser", "{{REVISIONID}} on page with <ref> (bug 6299) [1,4,0]", "{{REVISIONID}}<ref>elite</ref>\n\n755jmj");
add("selser", "{{REVISIONID}} on page with <ref> (bug 6299) [4,0,0]", "12u7cbe\n");
add("selser", "{{REVISIONID}} on page with <ref> (bug 6299) [1,3,0]", "{{REVISIONID}}<ref>elite</ref>");
add("selser", "{{REVISIONID}} on page with <ref> (bug 6299) [3,3,0]", "");
add("selser", "{{REVISIONID}} on page with <ref> (bug 6299) [0,2,0]", "{{REVISIONID}}<ref>elite</ref>\n\n42lwa3\n");
add("selser", "{{REVISIONID}} on page with <ref> (bug 6299) [3,4,0]", "hc2c9y");
add("selser", "{{REVISIONID}} on page with <ref> (bug 6299) [2,4,0]", "4mfowb\n\n{{REVISIONID}}<ref>elite</ref>\n\nq8t2f8");
add("selser", "{{REVISIONID}} on page with <ref> (bug 6299) [4,4,0]", "ibohng\n\n166o2nr");
add("selser", "{{REVISIONID}} on page with <ref> (bug 6299) [1,0,0]", "{{REVISIONID}}<ref>elite</ref>\n");
add("selser", "{{REVISIONID}} on page with <ref> (bug 6299) [2,3,0]", "dwrha5\n\n{{REVISIONID}}<ref>elite</ref>");
add("selser", "{{REVISIONID}} on page with <ref> (bug 6299) [3,2,0]", "kl65oh\n");
add("selser", "{{REVISIONID}} on page with <ref> (bug 6299) [4,2,0]", "5uvqjo\n\n7gww77\n");
add("selser", "Blank ref followed by ref with content [0,4,1,3,0]", "<ref name=\"blank\" />\n\n2oyky3\n\n<ref name=\"blank\">content</ref>\n\n<references />");
add("selser", "Erroneous refs [0,0,4,2,4,0,0,3,0,0,0,0,0]", "<ref name=\"0\">Zero</ref>\n\n5fiuuy\n\n1r3vk7r\n\nye789s\n\n<ref name=\"foo\" name=\"bar\" />\n\n<ref name=\"blankwithnoreference\" />\n\n<references name=\"quasit\" />\n\n<references />");
add("selser", "Erroneous refs [3,2,0,0,1,2,0,0,1,0,0,2,0]", "1phopva\n\n<ref>Also zero, but differently! (Normal ref)</ref>\n\n<ref />\n\n167t8v8\n\n<ref name=\"foo\" name=\"bar\" />\n\n<ref name=\"blankwithnoreference\" />\n\n<references name=\"quasit\" />e8juxg\n\n<references />");
add("selser", "Erroneous refs [0,3,0,0,0,2,0,0,1,0,0,3,0]", "<ref name=\"0\">Zero</ref>\n\n<ref>Also zero, but differently! (Normal ref)</ref>\n\n<ref />\n\nvxfzfv\n\n<ref name=\"foo\" name=\"bar\" />\n\n<ref name=\"blankwithnoreference\" />\n\n<references name=\"quasit\" /><references />");
add("selser", "Erroneous refs [2,0,4,3,4,4,0,0,0,3,0,0,0]", "1ehl52g\n\n<ref name=\"0\">Zero</ref>\n\npetz7r\n\nyvg893\n\n89bcw4\n\n<ref name=\"foo\" name=\"bar\" />\n\n<ref name=\"blankwithnoreference\" /><references name=\"quasit\" />\n\n<references />");
add("selser", "Erroneous refs [0,4,0,3,0,0,0,0,0,3,0,0,0]", "<ref name=\"0\">Zero</ref>\n\nec3dpf\n\n<ref>Also zero, but differently! (Normal ref)</ref>\n\n<ref />\n\n<ref name=\"foo\" name=\"bar\" />\n\n<ref name=\"blankwithnoreference\" /><references name=\"quasit\" />\n\n<references />");
add("selser", "Erroneous refs [3,0,0,0,0,4,0,0,3,0,0,2,0]", "\n<ref>Also zero, but differently! (Normal ref)</ref>\n\n<ref />\n\n1y2hyjq\n\n<ref name=\"foo\" name=\"bar\" />\n\n<references name=\"quasit\" />1co7pmk\n\n<references />");
add("selser", "Erroneous refs [3,2,4,2,4,0,0,2,3,0,0,4,0]", "1nkyb74\n\n14bmiw4\n\n1qiocud\n\nh9kl7a\n\n<ref name=\"foo\" name=\"bar\" />\n\n1r6og91\n\n<references name=\"quasit\" />1jy8o0b<references />");
add("selser", "Erroneous refs [3,0,4,2,0,2,0,0,0,0,0,4,0]", "\n1c5u2u1\n\n11wpc6k\n\n<ref />\n\niseoxu\n\n<ref name=\"foo\" name=\"bar\" />\n\n<ref name=\"blankwithnoreference\" />\n\n<references name=\"quasit\" />1komb4y<references />");
add("selser", "Erroneous refs [0,0,1,0,0,4,0,3,1,2,0,4,0]", "<ref name=\"0\">Zero</ref>\n\n<ref>Also zero, but differently! (Normal ref)</ref>\n\n<ref />\n\nmwzizm\n\n<ref name=\"foo\" name=\"bar\" />\n\n<ref name=\"blankwithnoreference\" />\n\n1dp2vom\n\n<references name=\"quasit\" />1g0m87q<references />");
add("selser", "Erroneous refs [1,0,0,3,1,3,1,0,2,0,0,4,0]", "<ref name=\"0\">Zero</ref>\n\n<ref>Also zero, but differently! (Normal ref)</ref>\n\n<ref />\n\n<ref name=\"foo\" name=\"bar\" />\n\n16q7f29\n\n<ref name=\"blankwithnoreference\" />\n\n<references name=\"quasit\" />onqj6h<references />");
add("selser", "Erroneous refs [2,0,3,2,0,0,2,3,4,0,0,0,0]", "151n3wc\n\n<ref name=\"0\">Zero</ref>\n\nsyitr4\n\n<ref />\n\n3ge2b1\n\n<ref name=\"foo\" name=\"bar\" />\n\nocdgrg\n\n<references name=\"quasit\" />\n\n<references />");
add("selser", "Erroneous refs [2,0,2,2,0,4,2,0,0,3,0,3,0]", "1aa5hxv\n\n<ref name=\"0\">Zero</ref>\n\njuhnew\n\n<ref>Also zero, but differently! (Normal ref)</ref>\n\np140s5\n\n<ref />\n\nqfta45\n\n1v3f3j9\n\n<ref name=\"foo\" name=\"bar\" />\n\n<ref name=\"blankwithnoreference\" /><references name=\"quasit\" /><references />");
add("selser", "Erroneous refs [4,4,4,0,0,0,0,3,1,2,0,0,0]", "1cfen4e\n\n1ncvdsc\n\n11w4mcc\n\n<ref />\n\n<ref name=\"foo\" name=\"bar\" />\n\n<ref name=\"blankwithnoreference\" />\n\n1w92yl4\n\n<references name=\"quasit\" />\n\n<references />");
add("selser", "Erroneous refs [0,0,2,0,2,2,2,4,0,0,0,2,0]", "<ref name=\"0\">Zero</ref>\n\nwe26ed\n\n<ref>Also zero, but differently! (Normal ref)</ref>\n\n1yu98fg\n\n<ref />\n\na84x3d\n\ns774dh\n\n<ref name=\"foo\" name=\"bar\" />\n\n1rpidtp\n\n<ref name=\"blankwithnoreference\" />\n\n<references name=\"quasit\" />raefy5\n\n<references />");
add("selser", "Erroneous refs [0,0,1,0,0,0,0,0,0,4,0,0,0]", "<ref name=\"0\">Zero</ref>\n\n<ref>Also zero, but differently! (Normal ref)</ref>\n\n<ref />\n\n<ref name=\"foo\" name=\"bar\" />\n\n<ref name=\"blankwithnoreference\" />\n\nam6bb8<references name=\"quasit\" />\n\n<references />");
add("selser", "Erroneous refs [0,0,0,3,0,2,2,3,1,0,0,2,0]", "<ref name=\"0\">Zero</ref>\n\n<ref>Also zero, but differently! (Normal ref)</ref>\n\n<ref />\n\nj7066e\n\n1a4dt8o\n\n<ref name=\"foo\" name=\"bar\" />\n\n<ref name=\"blankwithnoreference\" />\n\n<references name=\"quasit\" />10jb3z9\n\n<references />");
add("selser", "<ref> defined in <references> called with #tag [0,0,0,4,0]", "<ref name=\"foo\" />\n\n{{#tag:references|\n<ref name=\"foo\">BAR</ref>\n}}\n\nbrccs7");
add("selser", "<ref> defined in <references> called with #tag [1,3,0,3,0]", "<ref name=\"foo\" />\n\n{{#tag:references|\n<ref name=\"foo\">BAR</ref>\n}}");
add("selser", "<ref> defined in <references> called with #tag [0,4,3,0,0]", "<ref name=\"foo\" />\n\namo6ws\n");
add("selser", "<ref> defined in <references> called with #tag [0,3,4,0,0]", "<ref name=\"foo\" />\n\ny49ita\n");
add("selser", "<ref> defined in <references> called with #tag [3,4,0,0,0]", "1m7d9re\n\n{{#tag:references|\n<ref name=\"foo\">BAR</ref>\n}}");
add("selser", "<ref> defined in <references> called with #tag [1,0,4,0,0]", "<ref name=\"foo\" />\n\n7tn39e\n");
add("selser", "<ref> defined in <references> called with #tag [2,0,1,4,0]", "13owd1e\n\n<ref name=\"foo\" />\n\n{{#tag:references|\n<ref name=\"foo\">BAR</ref>\n}}\n\nnrnshy");
add("selser", "<ref> defined in <references> called with #tag [0,4,0,0,0]", "<ref name=\"foo\" />\n\nrdn99l\n\n{{#tag:references|\n<ref name=\"foo\">BAR</ref>\n}}");
add("selser", "<ref> defined in <references> called with #tag [4,2,0,0,0]", "1clskzx\n\n1y73y10\n\n{{#tag:references|\n<ref name=\"foo\">BAR</ref>\n}}");
add("selser", "<ref> defined in <references> called with #tag [4,0,3,3,0]", "g1897y\n\n");
add("selser", "<ref> defined in <references> called with #tag [4,2,3,4,0]", "12y1e85\n\n1kob1jt\n\n1thxs26");
add("selser", "<ref> defined in <references> called with #tag [0,3,3,3,0]", "<ref name=\"foo\" />");
add("selser", "<ref> defined in <references> called with #tag [3,2,0,0,0]", "1rkze1y\n\n{{#tag:references|\n<ref name=\"foo\">BAR</ref>\n}}");
add("selser", "<ref> defined in <references> called with #tag [0,3,0,3,0]", "<ref name=\"foo\" />\n\n{{#tag:references|\n<ref name=\"foo\">BAR</ref>\n}}");
add("selser", "<ref> defined in <references> called with #tag [4,0,1,4,0]", "1g2r0d1\n\n{{#tag:references|\n<ref name=\"foo\">BAR</ref>\n}}\n\nrdx18w");
add("selser", "<ref> defined in <references> called with #tag [0,0,0,3,0]", "<ref name=\"foo\" />\n\n{{#tag:references|\n<ref name=\"foo\">BAR</ref>\n}}");
add("selser", "<ref> defined in <references> called with #tag [0,0,0,2,0]", "<ref name=\"foo\" />\n\n{{#tag:references|\n<ref name=\"foo\">BAR</ref>\n}}\n\nfj0gen\n");
add("selser", "<ref> defined in <references> called with #tag [2,0,1,0,0]", "1d7653n\n\n<ref name=\"foo\" />\n\n{{#tag:references|\n<ref name=\"foo\">BAR</ref>\n}}\n");
add("selser", "<ref> defined in <references> called with #tag [2,3,3,0,0]", "14bboaw\n\n<ref name=\"foo\" />\n");
add("selser", "<ref> defined in <references> error conditions [0,0,0,4,0]", "<ref name=\"foo\" group=\"2\" />\n\n<references group=\"2\">\n<ref name=\"foo\" />\n<ref name=\"unused\">BAR</ref>\n<ref name=\"foo\" group=\"1\">bad group</ref>\n<ref>BAR BAR</ref>\n</references>dxumdc");
add("selser", "<ref> defined in <references> error conditions [2,4,0,2,0]", "1pumkgv\n\n<ref name=\"foo\" group=\"2\" />\n\njvx805<references group=\"2\">\n<ref name=\"foo\" />\n<ref name=\"unused\">BAR</ref>\n<ref name=\"foo\" group=\"1\">bad group</ref>\n<ref>BAR BAR</ref>\n</references>11l4u9n\n");
add("selser", "<ref> defined in <references> error conditions [1,0,0,3,0]", "<ref name=\"foo\" group=\"2\" />\n\n<references group=\"2\">\n<ref name=\"foo\" />\n<ref name=\"unused\">BAR</ref>\n<ref name=\"foo\" group=\"1\">bad group</ref>\n<ref>BAR BAR</ref>\n</references>");
add("selser", "<ref> defined in <references> error conditions [2,3,0,3,0]", "1n05ikg\n\n<ref name=\"foo\" group=\"2\" /><references group=\"2\">\n<ref name=\"foo\" />\n<ref name=\"unused\">BAR</ref>\n<ref name=\"foo\" group=\"1\">bad group</ref>\n<ref>BAR BAR</ref>\n</references>");
add("selser", "<ref> defined in <references> error conditions [0,0,0,2,0]", "<ref name=\"foo\" group=\"2\" />\n\n<references group=\"2\">\n<ref name=\"foo\" />\n<ref name=\"unused\">BAR</ref>\n<ref name=\"foo\" group=\"1\">bad group</ref>\n<ref>BAR BAR</ref>\n</references>lmy9sp\n");
add("selser", "<ref> defined in <references> error conditions [1,4,0,2,0]", "<ref name=\"foo\" group=\"2\" />\n\n51uldm<references group=\"2\">\n<ref name=\"foo\" />\n<ref name=\"unused\">BAR</ref>\n<ref name=\"foo\" group=\"1\">bad group</ref>\n<ref>BAR BAR</ref>\n</references>1ax3od5\n");
add("selser", "<ref> defined in <references> error conditions [2,0,0,2,0]", "16xtqf7\n\n<ref name=\"foo\" group=\"2\" />\n\n<references group=\"2\">\n<ref name=\"foo\" />\n<ref name=\"unused\">BAR</ref>\n<ref name=\"foo\" group=\"1\">bad group</ref>\n<ref>BAR BAR</ref>\n</references>l8coyc\n");
add("selser", "<ref> defined in <references> error conditions [0,3,0,3,0]", "<ref name=\"foo\" group=\"2\" /><references group=\"2\">\n<ref name=\"foo\" />\n<ref name=\"unused\">BAR</ref>\n<ref name=\"foo\" group=\"1\">bad group</ref>\n<ref>BAR BAR</ref>\n</references>");
add("selser", "<ref> defined in <references> error conditions [3,2,0,0,0]", "13kk1ep\n\n<references group=\"2\">\n<ref name=\"foo\" />\n<ref name=\"unused\">BAR</ref>\n<ref name=\"foo\" group=\"1\">bad group</ref>\n<ref>BAR BAR</ref>\n</references>");
add("selser", "<ref> defined in <references> error conditions [2,3,0,0,0]", "s21hov\n\n<ref name=\"foo\" group=\"2\" /><references group=\"2\">\n<ref name=\"foo\" />\n<ref name=\"unused\">BAR</ref>\n<ref name=\"foo\" group=\"1\">bad group</ref>\n<ref>BAR BAR</ref>\n</references>");
add("selser", "<ref> defined in <references> error conditions [0,0,0,3,0]", "<ref name=\"foo\" group=\"2\" />\n\n<references group=\"2\">\n<ref name=\"foo\" />\n<ref name=\"unused\">BAR</ref>\n<ref name=\"foo\" group=\"1\">bad group</ref>\n<ref>BAR BAR</ref>\n</references>");
add("selser", "<ref> defined in <references> error conditions [4,4,0,0,0]", "1pq6xj8\n\n1s9st80<references group=\"2\">\n<ref name=\"foo\" />\n<ref name=\"unused\">BAR</ref>\n<ref name=\"foo\" group=\"1\">bad group</ref>\n<ref>BAR BAR</ref>\n</references>");
add("selser", "<ref> defined in <references> error conditions [4,0,0,0,0]", "1z01g6o\n\n<references group=\"2\">\n<ref name=\"foo\" />\n<ref name=\"unused\">BAR</ref>\n<ref name=\"foo\" group=\"1\">bad group</ref>\n<ref>BAR BAR</ref>\n</references>");
add("selser", "<ref> defined in <references> error conditions [0,4,0,3,0]", "<ref name=\"foo\" group=\"2\" />\n\ne6zpzy<references group=\"2\">\n<ref name=\"foo\" />\n<ref name=\"unused\">BAR</ref>\n<ref name=\"foo\" group=\"1\">bad group</ref>\n<ref>BAR BAR</ref>\n</references>");
add("selser", "<ref> defined in <references> error conditions [0,3,0,0,0]", "<ref name=\"foo\" group=\"2\" /><references group=\"2\">\n<ref name=\"foo\" />\n<ref name=\"unused\">BAR</ref>\n<ref name=\"foo\" group=\"1\">bad group</ref>\n<ref>BAR BAR</ref>\n</references>");
add("selser", "<ref> defined in <references> error conditions [1,3,0,3,0]", "<ref name=\"foo\" group=\"2\" /><references group=\"2\">\n<ref name=\"foo\" />\n<ref name=\"unused\">BAR</ref>\n<ref name=\"foo\" group=\"1\">bad group</ref>\n<ref>BAR BAR</ref>\n</references>");
add("selser", "<ref> defined in <references> error conditions [0,2,0,0,0]", "<ref name=\"foo\" group=\"2\" />\n\nxnimd\n\n<references group=\"2\">\n<ref name=\"foo\" />\n<ref name=\"unused\">BAR</ref>\n<ref name=\"foo\" group=\"1\">bad group</ref>\n<ref>BAR BAR</ref>\n</references>");
add("selser", "<ref> defined in <references> error conditions [3,2,0,2,0]", "15osac8\n\n<references group=\"2\">\n<ref name=\"foo\" />\n<ref name=\"unused\">BAR</ref>\n<ref name=\"foo\" group=\"1\">bad group</ref>\n<ref>BAR BAR</ref>\n</references>17d9429\n");
add("selser", "<ref> defined in <references> error conditions [0,4,0,4,0]", "<ref name=\"foo\" group=\"2\" />\n\nyooxfw<references group=\"2\">\n<ref name=\"foo\" />\n<ref name=\"unused\">BAR</ref>\n<ref name=\"foo\" group=\"1\">bad group</ref>\n<ref>BAR BAR</ref>\n</references>cfercb");
add("selser", "Bug 13073 regression check: wrapped <references> [0,3,3]", "<ref>\nfoo\n</ref>");
add("selser", "Bug 13073 regression check: wrapped <references> [1,0,3]", "<ref>\nfoo\n</ref>\n");
add("selser", "Bug 13073 regression check: wrapped <references> [2,0,3]", "1eulfp2\n\n<ref>\nfoo\n</ref>\n");
add("selser", "Bug 13073 regression check: wrapped <references> [0,0,4]", "<ref>\nfoo\n</ref>\n\n13gonk");
add("selser", "<ref> with no name and no content. [[3,0],4,0]", "<ref></ref>\n\nohfvpx");
add("selser", "<ref> with no name and no content. [0,2,0]", "Bla.<ref></ref>\n\npn6x71\n");
add("selser", "<ref> with no name and no content. [2,0,0]", "1otmssn\n\nBla.<ref></ref>");
add("selser", "<ref> with no name and no content. [1,3,0]", "Bla.<ref></ref>");
add("selser", "<ref> with no name and no content. [4,0,0]", "1wg5cj4\n");
add("selser", "<ref> with no name and no content. [2,3,0]", "13m8hdy\n\nBla.<ref></ref>");
add("selser", "<ref> with no name and no content. [3,2,0]", "1ety4vs\n");
add("selser", "<ref> with no name and no content. [1,4,0]", "Bla.<ref></ref>\n\n6v7sxu");
add("selser", "<ref> with no name and no content. [2,2,0]", "1tdm9xw\n\nBla.<ref></ref>\n\nxbklbx\n");
add("selser", "<ref> with no name and no content. [1,0,0]", "Bla.<ref></ref>\n");
add("selser", "<ref> with no name and no content. [[3,0],0,0]", "<ref></ref>\n");
add("selser", "<ref> with no name and no content. [0,3,0]", "Bla.<ref></ref>");
add("selser", "<ref> with no name and no content. [1,2,0]", "Bla.<ref></ref>\n\nazodfi\n");
add("selser", "<ref> with no name and no content. [[3,0],3,0]", "<ref></ref>");
add("selser", "<ref> with no name and no content. [[2,0],3,0]", "slk5uoBla.<ref></ref>");
add("selser", "<ref> with no name and no content. [0,4,0]", "Bla.<ref></ref>\n\nbnx45z");
add("selser", "<ref> with no name and no content. [3,0,0]", "\n");
add("selser", "<ref> with no name and no content. [2,4,0]", "1dg2w9n\n\nBla.<ref></ref>\n\np5ul07");
add("selser", "<ref> with no name and no content. [[4,0],0,0]", "imr7ut<ref></ref>\n");
add("selser", "<ref> with an empty-string name parameter and no content. [0,4,0]", "Bla.<ref name=\"\"></ref>\n\ncyppav");
add("selser", "<ref> with an empty-string name parameter and no content. [2,3,0]", "1wlyw6b\n\nBla.<ref name=\"\"></ref>");
add("selser", "<ref> with an empty-string name parameter and no content. [[3,0],3,0]", "<ref name=\"\"></ref>");
add("selser", "<ref> with an empty-string name parameter and no content. [[4,0],2,0]", "ke1ftq<ref name=\"\"></ref>\n\n1tohng1\n");
add("selser", "<ref> with an empty-string name parameter and no content. [4,0,0]", "1bv4hgd\n");
add("selser", "<ref> with an empty-string name parameter and no content. [3,0,0]", "\n");
add("selser", "<ref> with an empty-string name parameter and no content. [0,3,0]", "Bla.<ref name=\"\"></ref>");
add("selser", "<ref> with an empty-string name parameter and no content. [1,0,0]", "Bla.<ref name=\"\"></ref>\n");
add("selser", "<ref> with an empty-string name parameter and no content. [[4,0],4,0]", "1j8fnx<ref name=\"\"></ref>\n\ntivd28");
add("selser", "<ref> with an empty-string name parameter and no content. [2,0,0]", "1pjxq6c\n\nBla.<ref name=\"\"></ref>");
add("selser", "<ref> with an empty-string name parameter and no content. [[2,0],0,0]", "6bqi1jBla.<ref name=\"\"></ref>\n");
add("selser", "<ref> with an empty-string name parameter and no content. [3,2,0]", "1odk7yh\n");
add("selser", "<ref> with an empty-string name parameter and no content. [3,4,0]", "1vax2x1");
add("selser", "<ref> with an empty-string name parameter and no content. [[3,0],4,0]", "<ref name=\"\"></ref>\n\n1puamwb");
add("selser", "<ref> with an empty-string name parameter and no content. [3,3,0]", "");
add("selser", "<ref> with an empty-string name parameter and no content. [0,2,0]", "Bla.<ref name=\"\"></ref>\n\nir8lis\n");
add("selser", "<ref> with an empty-string name parameter and no content. [2,4,0]", "174k5cy\n\nBla.<ref name=\"\"></ref>\n\ny1bnct");
add("selser", "<ref> with an empty-string name parameter and no content. [4,3,0]", "1jij3pf");
add("selser", "<ref> with an empty-string name parameter and no content. [1,4,0]", "Bla.<ref name=\"\"></ref>\n\niknz8z");
add("selser", "<ref> with a non-empty name parameter and no content. [4,0,0]", "11rs4la\n");
add("selser", "<ref> with a non-empty name parameter and no content. [3,2,0]", "1uh0cto\n");
add("selser", "<ref> with a non-empty name parameter and no content. [[2,0],2,0]", "gav99uBla.<ref name=\"void\"></ref>\n\nr5vlst\n");
add("selser", "<ref> with a non-empty name parameter and no content. [0,4,0]", "Bla.<ref name=\"void\"></ref>\n\nr7lbys");
add("selser", "<ref> with a non-empty name parameter and no content. [[4,0],3,0]", "1l6z8wu<ref name=\"void\"></ref>");
add("selser", "<ref> with a non-empty name parameter and no content. [1,3,0]", "Bla.<ref name=\"void\"></ref>");
add("selser", "<ref> with a non-empty name parameter and no content. [2,3,0]", "110ffhv\n\nBla.<ref name=\"void\"></ref>");
add("selser", "<ref> with a non-empty name parameter and no content. [2,0,0]", "1qhovxt\n\nBla.<ref name=\"void\"></ref>");
add("selser", "<ref> with a non-empty name parameter and no content. [0,2,0]", "Bla.<ref name=\"void\"></ref>\n\neyqmdo\n");
add("selser", "<ref> with a non-empty name parameter and no content. [3,0,0]", "\n");
add("selser", "<ref> with a non-empty name parameter and no content. [1,4,0]", "Bla.<ref name=\"void\"></ref>\n\n3jybx1");
add("selser", "<ref> with a non-empty name parameter and no content. [[3,0],2,0]", "<ref name=\"void\"></ref>\n\nnj05ni\n");
add("selser", "<ref> with a non-empty name parameter and no content. [0,3,0]", "Bla.<ref name=\"void\"></ref>");
add("selser", "<ref> with a non-empty name parameter and no content. [2,4,0]", "8tf7uu\n\nBla.<ref name=\"void\"></ref>\n\n7sv7bv");
add("selser", "<ref> with a non-empty name parameter and no content. [[2,0],4,0]", "1aulowoBla.<ref name=\"void\"></ref>\n\n11th9k6");
add("selser", "<ref> with a non-empty name parameter and no content. [4,3,0]", "1ml1bcw");
add("selser", "<ref> with a non-empty name parameter and no content. [3,4,0]", "11q5mfj");
add("selser", "<ref> with a non-empty name parameter and no content. [[2,0],3,0]", "1fli58lBla.<ref name=\"void\"></ref>");
add("selser", "<ref> with a non-empty name parameter and no content. [[2,0],0,0]", "v0qv1iBla.<ref name=\"void\"></ref>\n");
add("selser", "<ref>s with the follow parameter [1,4,[4,0],2,[3],0,0]", "Page one.<ref name=\"beginning\">First page footnote text.</ref>\n\n9ki6l7\n\n1hjif86<ref follow=\"beginning\">Second page footnote text.</ref>\n\n1i0negw\n\n== <nowiki/> ==\n<references />");
add("selser", "<ref>s with the follow parameter [0,4,4,2,0,0,0]", "Page one.<ref name=\"beginning\">First page footnote text.</ref>\n\n29j6zc\n\n1x9odrq\n\nv7xh68\n\n== References ==\n<references />");
add("selser", "<ref>s with the follow parameter [2,2,4,2,0,0,0]", "1dnzkqa\n\nPage one.<ref name=\"beginning\">First page footnote text.</ref>\n\nuon3pk\n\n1dbvwk9\n\n21rzyo\n\n== References ==\n<references />");
add("selser", "<ref>s with the follow parameter [[3,0],0,0,2,[2],0,0]", "<ref name=\"beginning\">First page footnote text.</ref>\n\nPage two.<ref follow=\"beginning\">Second page footnote text.</ref>\n\nwfd1vh\n\n== new02fReferences ==\n<references />");
add("selser", "<ref>s with the follow parameter [4,0,3,2,2,2,0]", "1sz2kwi\n\n1u5by29\n\nchwdfu\n\n== References ==\nhr0bxe\n<references />");
add("selser", "<ref>s with the follow parameter [3,2,4,4,2,0,0]", "1fr2f18\n\n1dsi9l4\n\n1tfqpin\n\njnye6h\n\n== References ==\n<references />");
add("selser", "<ref>s with the follow parameter [0,0,1,3,0,0,0]", "Page one.<ref name=\"beginning\">First page footnote text.</ref>\n\nPage two.<ref follow=\"beginning\">Second page footnote text.</ref>\n== References ==\n<references />");
add("selser", "<ref>s with the follow parameter [[4,0],3,3,3,0,0,0]", "dd3s01<ref name=\"beginning\">First page footnote text.</ref>\n== References ==\n<references />");
add("selser", "<ref>s with the follow parameter [0,4,0,4,[2],3,0]", "Page one.<ref name=\"beginning\">First page footnote text.</ref>\n\ndht9ly\n\nPage two.<ref follow=\"beginning\">Second page footnote text.</ref>\n\n1ijup9y\n\n== zd10unReferences ==\n<references />");
add("selser", "<ref>s with the follow parameter [3,0,2,0,[3],2,0]", "\n1bjaryq\n\nPage two.<ref follow=\"beginning\">Second page footnote text.</ref>\n\n== <nowiki/> ==\n13mp93f\n<references />");
add("selser", "<ref>s with the follow parameter [0,4,[3,0],3,0,0,0]", "Page one.<ref name=\"beginning\">First page footnote text.</ref>\n\nb1xm6f\n\n<ref follow=\"beginning\">Second page footnote text.</ref>\n\n== References ==\n<references />");
add("selser", "<ref>s with the follow parameter [4,4,1,3,1,2,0]", "1aekhrn\n\n1nsg78m\n\nPage two.<ref follow=\"beginning\">Second page footnote text.</ref>\n== References ==\n10esws3\n<references />");
add("selser", "<ref>s with the follow parameter [4,4,0,3,[3],0,0]", "1e4je6d\n\n1ngk4kr\n\nPage two.<ref follow=\"beginning\">Second page footnote text.</ref>\n== <nowiki/> ==\n<references />");
add("selser", "<ref>s with the follow parameter [2,3,0,0,2,0,0]", "1w76sli\n\nPage one.<ref name=\"beginning\">First page footnote text.</ref>\n\nPage two.<ref follow=\"beginning\">Second page footnote text.</ref>\n\nlzh28u\n\n== References ==\n<references />");
add("selser", "<ref>s with the follow parameter [1,0,1,0,1,0,0]", "Page one.<ref name=\"beginning\">First page footnote text.</ref>\n\nPage two.<ref follow=\"beginning\">Second page footnote text.</ref>\n\n== References ==\n<references />");
add("selser", "<ref>s with the follow parameter [3,4,[4,0],0,[4],0,0]", "1pnw6s5\n\n18wphoo<ref follow=\"beginning\">Second page footnote text.</ref>\n\n== 1egt7au ==\n<references />");
add("selser", "Multiple definition (inside {{#tag:references}}) [2,4,0]", "1aft3zn\n\n<ref name=\"a\" />\n{{#tag:references|\n<ref name=\"a\">abc</ref>\n<ref name=\"a\">def</ref>\n}}\n\nyyf7ac");
add("selser", "Multiple definition (inside {{#tag:references}}) [1,3,0]", "<ref name=\"a\" />\n{{#tag:references|\n<ref name=\"a\">abc</ref>\n<ref name=\"a\">def</ref>\n}}");
add("selser", "Multiple definition (inside {{#tag:references}}) [1,2,0]", "<ref name=\"a\" />\n{{#tag:references|\n<ref name=\"a\">abc</ref>\n<ref name=\"a\">def</ref>\n}}\n\n6kbswz\n");
add("selser", "Multiple definition (inside {{#tag:references}}) [0,2,0]", "<ref name=\"a\" />\n{{#tag:references|\n<ref name=\"a\">abc</ref>\n<ref name=\"a\">def</ref>\n}}\n\n5bho14\n");
add("selser", "Multiple definition (inside {{#tag:references}}) [[0,3,0],2,0]", "<ref name=\"a\" />{{#tag:references|\n<ref name=\"a\">abc</ref>\n<ref name=\"a\">def</ref>\n}}\n\nlt0dsi\n");
add("selser", "Multiple definition (inside {{#tag:references}}) [4,2,0]", "1581laa\n\n1w4nfjk\n");
add("selser", "Multiple definition (inside {{#tag:references}}) [0,4,0]", "<ref name=\"a\" />\n{{#tag:references|\n<ref name=\"a\">abc</ref>\n<ref name=\"a\">def</ref>\n}}\n\n3s1r49");
add("selser", "Multiple definition (inside {{#tag:references}}) [2,2,0]", "170te2t\n\n<ref name=\"a\" />\n{{#tag:references|\n<ref name=\"a\">abc</ref>\n<ref name=\"a\">def</ref>\n}}\n\noa4pku\n");
add("selser", "Multiple definition (inside {{#tag:references}}) [3,4,0]", "1ict8e5");
add("selser", "Multiple definition (inside {{#tag:references}}) [[0,3,0],0,0]", "<ref name=\"a\" />{{#tag:references|\n<ref name=\"a\">abc</ref>\n<ref name=\"a\">def</ref>\n}}\n");
add("selser", "Multiple definition (inside {{#tag:references}}) [3,2,0]", "1r7p2dc\n");
add("selser", "Multiple definition (inside {{#tag:references}}) [[0,2,0],4,0]", "<ref name=\"a\" />v9lo28\n{{#tag:references|\n<ref name=\"a\">abc</ref>\n<ref name=\"a\">def</ref>\n}}\n\n1505q9s");
add("selser", "Multiple definition (inside {{#tag:references}}) [1,0,0]", "<ref name=\"a\" />\n{{#tag:references|\n<ref name=\"a\">abc</ref>\n<ref name=\"a\">def</ref>\n}}\n");
add("selser", "Multiple definition (inside {{#tag:references}}) [[0,4,0],0,0]", "<ref name=\"a\" />xg7njs{{#tag:references|\n<ref name=\"a\">abc</ref>\n<ref name=\"a\">def</ref>\n}}\n");
add("selser", "Multiple definition (inside {{#tag:references}}) [4,3,0]", "10oobdf");
add("selser", "Multiple definition (inside {{#tag:references}}) [[0,2,0],0,0]", "<ref name=\"a\" />wvocua\n{{#tag:references|\n<ref name=\"a\">abc</ref>\n<ref name=\"a\">def</ref>\n}}\n");
add("selser", "Multiple definition (inside {{#tag:references}}) [4,0,0]", "c6o25q\n");
add("selser", "Multiple definition (inside {{#tag:references}}) [2,3,0]", "r5lb7d\n\n<ref name=\"a\" />\n{{#tag:references|\n<ref name=\"a\">abc</ref>\n<ref name=\"a\">def</ref>\n}}");
add("selser", "Multiple definition (inside {{#tag:references}}) [1,4,0]", "<ref name=\"a\" />\n{{#tag:references|\n<ref name=\"a\">abc</ref>\n<ref name=\"a\">def</ref>\n}}\n\n1sdxf2c");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[0,0,2,0,3,0],0,0]", "A <ref name=\"x\">foo</ref>8o50yh\nB <ref name=\" x \" /><ref name= x  />\n<references />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[0,0,4,0,2,0],0,0]", "A <ref name=\"x\">foo</ref>7oni2y<ref name=\" x \" />wcnop\nC <ref name= x  />\n<references />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[0,0,3,0,0,0],3,0]", "A <ref name=\"x\">foo</ref><ref name=\" x \" />\nC <ref name= x  /><references />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[4,0,3,0,3,0],0,0]", "ie0a2h<ref name=\"x\">foo</ref><ref name=\" x \" /><ref name= x  />\n<references />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [2,0,0]", "1vzemgq\n\nA <ref name=\"x\">foo</ref>\nB <ref name=\" x \" />\nC <ref name= x  />\n<references />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[3,0,4,0,0,0],4,0]", "<ref name=\"x\">foo</ref>56lkzv<ref name=\" x \" />\nC <ref name= x  />\n\nn8go92<references />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [1,2,0]", "A <ref name=\"x\">foo</ref>\nB <ref name=\" x \" />\nC <ref name= x  />\n\ndpqatn\n<references />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [0,4,0]", "A <ref name=\"x\">foo</ref>\nB <ref name=\" x \" />\nC <ref name= x  />\n\nkb5zhd<references />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[4,0,2,0,0,0],0,0]", "na5zcf<ref name=\"x\">foo</ref>1w7hqb4\nB <ref name=\" x \" />\nC <ref name= x  />\n<references />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[3,0,3,0,0,0],0,0]", "<ref name=\"x\">foo</ref><ref name=\" x \" />\nC <ref name= x  />\n<references />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[0,0,4,0,3,0],4,0]", "A <ref name=\"x\">foo</ref>xzdr22<ref name=\" x \" /><ref name= x  />\n\nfdyjh8<references />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[4,0,0,0,3,0],2,0]", "id09py<ref name=\"x\">foo</ref>\nB <ref name=\" x \" /><ref name= x  />\n\n14epo21\n<references />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[3,0,3,0,0,0],2,0]", "<ref name=\"x\">foo</ref><ref name=\" x \" />\nC <ref name= x  />\n\n2yz5rl\n<references />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [1,0,0]", "A <ref name=\"x\">foo</ref>\nB <ref name=\" x \" />\nC <ref name= x  />\n<references />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[3,0,0,0,0,0],3,0]", "<ref name=\"x\">foo</ref>\nB <ref name=\" x \" />\nC <ref name= x  /><references />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[3,0,4,0,2,0],0,0]", "<ref name=\"x\">foo</ref>1rpjo1b<ref name=\" x \" />rjd0zn\nC <ref name= x  />\n<references />");
add("selser", "Ref: 3. spaces in ref-names should be ignored [[0,0,0,0,4,0],0,0]", "A <ref name=\"x\">foo</ref>\nB <ref name=\" x \" />xidipo<ref name= x  />\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[3,0,0],0,0]", "<ref> foo {{echo|</ref> B C}}\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [0,2,0]", "A <ref> foo {{echo|</ref> B C}}\n\nndg5c4\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[0,0,2],2,0]", "A <ref> foo {{echo|</ref><nowiki>b5njrh B C}}</nowiki>\n\na1gxhc\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [1,4,0]", "A <ref> foo {{echo|</ref> B C}}\n\nu9j3ix<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [0,3,0]", "A <ref> foo {{echo|</ref> B C}}<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[2,0,0],0,0]", "1ulfrvA <ref> foo {{echo|</ref> B C}}\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[2,0,4],0,0]", "hmwoofA <ref> foo {{echo|</ref>14n13je\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [0,4,0]", "A <ref> foo {{echo|</ref> B C}}\n\n1pwtjex<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[4,0,3],4,0]", "f35roz<ref> foo {{echo|</ref>\n\nwy9pr3<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [1,0,0]", "A <ref> foo {{echo|</ref> B C}}\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[3,0,0],2,0]", "<ref> foo {{echo|</ref> B C}}\n\nukwq6i\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[4,0,2],3,0]", "fypf0r<ref> foo {{echo|</ref><nowiki>az008s B C}}</nowiki><references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [2,0,0]", "1b905vn\n\nA <ref> foo {{echo|</ref> B C}}\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[2,0,0],2,0]", "7uxsg5A <ref> foo {{echo|</ref> B C}}\n\n1v27tzn\n\n<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[0,0,4],4,0]", "A <ref> foo {{echo|</ref>1wsbfe6\n\nmic5ln<references />");
add("selser", "Ref: 8. transclusion wikitext has lower precedence [[4,0,2],4,0]", "ad938x<ref> foo {{echo|</ref><nowiki>9qwptv B C}}</nowiki>\n\n1j9wtig<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [2,3,0]", "179nhm1\n\nA <ref> foo <!--</ref> B C<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[4,0,0],4,0]", "sb6ksz<ref> foo <!--</ref> B C\n\ngzhiq3<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[0,0,4],3,0]", "A <ref> foo <!--</ref>aoy805<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[2,0,0],2,0]", "7hluh3A <ref> foo <!--</ref> B C\n\n11srvlw\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [1,0,0]", "A <ref> foo <!--</ref> B C\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[2,0,0],0,0]", "vfks5wA <ref> foo <!--</ref> B C\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[4,0,4],2,0]", "kix7sr<ref> foo <!--</ref>13rspfe\n\n1gyggbp\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[3,0,4],0,0]", "<ref> foo <!--</ref>a6c568\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [1,2,0]", "A <ref> foo <!--</ref> B C\n\n1ih18bl\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[2,0,0],4,0]", "1wmw3rhA <ref> foo <!--</ref> B C\n\n1nvcezs<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[4,0,0],3,0]", "1sddkuq<ref> foo <!--</ref> B C<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [2,0,0]", "17eaulh\n\nA <ref> foo <!--</ref> B C\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[0,0,2],0,0]", "A <ref> foo <!--</ref>a679pd B C\n<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[3,0,3],4,0]", "<ref> foo <!--</ref>\n\n1tnuwn7<references />");
add("selser", "Ref: 9. unclosed comments should not leak out of ref-body [[0,0,4],2,0]", "A <ref> foo <!--</ref>1s5ppq0\n\n1hwfma7\n<references />");
add("selser", "Ref: 12. ref-tags act as trailing newline migration barrier [4,[2],3,2,4,[4],3,0]", "17pa34f\n\n1g9n9uza\n\ntns9fo\n\nb<!--the newline at the end of this line stays inside the p tag--> <ref />\n<ref />\n\nztzbr0\n\n16udisr\n<references />");
add("selser", "References: 9. Generate missing references list at the end [0,4,0,3,0]", "A <ref>foo</ref>\nB <ref group=\"inexistent\">bar</ref>\n\nm523wx");
add("selser", "References: 9. Generate missing references list at the end [4,4,0,4,0]", "1764b27\n\n1ssyey51i8g4aj");
add("selser", "References: 9. Generate missing references list at the end [[2,0,2,0],0,0,3,0]", "fnars4A <ref>foo</ref>a75i8b\nB <ref group=\"inexistent\">bar</ref>\n");
add("selser", "References: 9. Generate missing references list at the end [3,0,0,2,0]", "\n1mbxn6j\n");
add("selser", "References: 9. Generate missing references list at the end [[0,0,2,0],2,0,0,0]", "A <ref>foo</ref>qqtrep\nB <ref group=\"inexistent\">bar</ref>\n\n1tyoqe5\n");
add("selser", "References: 9. Generate missing references list at the end [4,2,0,3,0]", "1fe5ffa\n\n1ruvjir\n");
add("selser", "References: 9. Generate missing references list at the end [0,3,0,0,0]", "A <ref>foo</ref>\nB <ref group=\"inexistent\">bar</ref>");
add("selser", "References: 9. Generate missing references list at the end [[0,0,4,0],0,0,4,0]", "A <ref>foo</ref>wz4guj<ref group=\"inexistent\">bar</ref>\npbcyz2");
add("selser", "References: 9. Generate missing references list at the end [[0,0,4,0],0,0,3,0]", "A <ref>foo</ref>nl5b0<ref group=\"inexistent\">bar</ref>\n");
add("selser", "References: 9. Generate missing references list at the end [[3,0,0,0],3,0,0,0]", "<ref>foo</ref>\nB <ref group=\"inexistent\">bar</ref>");
add("selser", "References: 9. Generate missing references list at the end [3,3,0,0,0]", "");
add("selser", "References: 9. Generate missing references list at the end [[4,0,4,0],2,0,4,0]", "z1d44k<ref>foo</ref>12zna7d<ref group=\"inexistent\">bar</ref>\n\n1rtnhuh\n1w1j39l");
add("selser", "References: 9. Generate missing references list at the end [4,3,0,2,0]", "1mbcfde1utf8bj\n");
add("selser", "References: 9. Generate missing references list at the end [2,3,0,0,0]", "1dmiax9\n\nA <ref>foo</ref>\nB <ref group=\"inexistent\">bar</ref>");
add("selser", "References: 9. Generate missing references list at the end [[4,0,0,0],3,0,0,0]", "r7gaia<ref>foo</ref>\nB <ref group=\"inexistent\">bar</ref>");
add("selser", "References: 9. Generate missing references list at the end [[4,0,0,0],0,0,2,0]", "1kbqga8<ref>foo</ref>\nB <ref group=\"inexistent\">bar</ref>\n1y952id\n");
add("selser", "References: 9. Generate missing references list at the end [1,3,0,0,0]", "A <ref>foo</ref>\nB <ref group=\"inexistent\">bar</ref>");
add("selser", "References: 9. Generate missing references list at the end [0,0,0,4,0]", "A <ref>foo</ref>\nB <ref group=\"inexistent\">bar</ref>xixkmh");
add("selser", "References: 9. Generate missing references list at the end [[4,0,0,0],3,0,3,0]", "jqf638<ref>foo</ref>\nB <ref group=\"inexistent\">bar</ref>");
add("selser", "References: 9. Generate missing references list at the end [3,0,0,0,0]", "\n");

// ### DO NOT REMOVE THIS LINE ### (end of automatically-generated section)


if (typeof module === 'object') {
	module.exports.testBlackList = testBlackList;
}
